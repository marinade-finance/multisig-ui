{"version":3,"sources":["components/Notification.tsx","utils/idl.ts","components/Multisig.tsx","store/index.ts","components/Header.tsx","components/Footer.tsx","components/Layout.tsx","App.tsx","reportWebVitals.ts","index.tsx","idl/index.ts","components/WalletProvider.tsx","store/reducer.ts"],"names":["ViewTransactionOnExplorerButton","props","signature","explorerClusterSuffix","useSelector","state","common","network","urlSuffix","color","component","target","rel","href","IDL_INSTRUCTION_LAYOUT","rustEnum","struct","encodeInstruction","i","buffer","Buffer","alloc","len","encode","concat","IDL_TAG","slice","from","reverse","idlAddress","programId","a","PublicKey","findProgramAddress","base","createWithSeed","Multisig","multisig","fixed","maxWidth","style","position","bottom","right","display","flexDirection","NewMultisigButton","MultisigInstance","useState","open","setOpen","border","width","height","borderRadius","onClick","NewMultisigDialog","onClose","multisigClient","useWallet","undefined","multisigAccount","setMultisigAccount","transactions","setTransactions","showSignerDialog","setShowSignerDialog","showAddTransactionDialog","setShowAddTransactionDialog","forceRefresh","setForceRefresh","useEffect","account","fetch","then","catch","err","console","error","transaction","all","toBuffer","txs","subscribe","on","marginBottom","marginTop","padding","marginLeft","marginRight","textAlign","elevation","variant","flexGrow","toString","threshold","owners","length","title","arrow","disablePadding","primary","map","tx","TxListItem","publicKey","AddTransactionDialog","didAddTransaction","SignerDialog","history","useHistory","enqueueSnackbar","useSnackbar","setThreshold","zeroAddr","default","participants","setParticipants","_onClose","maxParticipantLength","setMaxParticipantLength","disableCreate","createMultisig","Account","multisigSize","nonce","p","rpc","BN","rent","SYSVAR_RENT_PUBKEY","createInstruction","accounts","signers","instructions","action","push","fullWidth","label","value","type","onChange","e","parseInt","idx","justifyContent","disabled","str","txAccount","setTxAccount","txData","fromUint8ArrayToBase64","data","translated","fromTwos","toNumber","pubkey","toBase58","rows","field","didExecute","wordBreak","background","float","ownerSetSeqno","msAccountRows","owner","approve","provider","wallet","Error","execute","multisigSigner","executeTransaction","remainingAccounts","t","equals","isSigner","isWritable","button","icon","ixLabel","in","timeout","unmountOnExit","errStr","align","r","AccountsList","BPF_LOADER_UPGRADEABLE_PID","secondary","coder","sighash","idl","signer","setSigner","addrNonce","paddingBottom","networks","mainnet","multisigUpgradeAuthority","ProgramUpdateListItem","IdlUpgradeListItem","MultisigSetOwnersListItem","ChangeThresholdListItem","ChangeThresholdListItemDetails","changeThreshold","changeThresholdData","proposer","createTransaction","paddingLeft","paddingRight","SetOwnersListItemDetails","setOwners","setOwnersData","UpgradeIdlListItemDetails","setProgramId","setBuffer","createTransactionAccount","programAddr","bufferAddr","idlAddr","accs","UpgradeProgramListItemDetails","connection","getAccountInfo","programAccount","programdataAddress","spill","SYSVAR_CLOCK_PUBKEY","instruction","store","createStore","reducer","Header","multisigAddress","setMultisigAddress","addr","_","isValidPubkey","searchFn","AppBar","boxShadow","borderBottom","Toolbar","flex","SerumLogoButton","BarButton","hrefClient","backgroundColor","outlineWidth","placeholder","onKeyPress","key","IconButton","NetworkSelector","UserSelector","WalletConnectButton","Button","alt","src","Link","textDecoration","Typography","fontSize","dispatch","useDispatch","anchorEl","setAnchorEl","handleClose","currentTarget","Menu","Boolean","Object","keys","n","MenuItem","ActionType","CommonSetNetwork","item","networkKey","Select","displayEmpty","renderValue","overflow","disconnect","showDisconnect","isWalletConnected","autoHideDuration","CommonWalletDidDisconnect","CommonTriggerShutdown","CommonWalletDidConnect","connect","Footer","zIndex","borderTop","FooterButton","isEnd","Layout","refresh","setRefresh","minHeight","RiskBar","window","localStorage","getItem","children","RiskDisclosureForm","onConsent","setItem","MultisigPage","getState","location","hash","defaultMultisig","MultisigInstancePage","path","useLocation","pathname","split","App","theme","createMuiTheme","palette","typography","fontFamily","join","overrides","CssBaseline","maxSnack","WalletProvider","basename","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","version","name","isMut","args","vec","defined","kind","fields","types","errors","code","msg","w","useContext","WalletContext","React","createContext","walletProvider","useMemo","opts","preflightCommitment","commitment","Connection","url","Wallet","Provider","Program","MultisigIdl","multisigProgramId","initialState","newState","CommonWalletSetProvider","testnet","devnet","localhost"],"mappings":"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","file":"static/js/main.5e2d74f8.chunk.js","sourcesContent":["import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport Button from \"@material-ui/core/Button\";\nimport { TransactionSignature } from \"@solana/web3.js\";\nimport { State as StoreState } from \"../store/reducer\";\n\ntype Props = {\n  signature: string;\n};\n\nexport async function withTx(\n  snack: any,\n  beforeLabel: string,\n  afterLabel: string,\n  execTx: () => Promise<TransactionSignature>\n) {\n  snack.enqueueSnackbar(beforeLabel, {\n    variant: \"info\",\n  });\n  try {\n    let tx = await execTx();\n    snack.closeSnackbar();\n    snack.enqueueSnackbar(afterLabel, {\n      variant: \"success\",\n      action: <ViewTransactionOnExplorerButton signature={tx} />,\n    });\n  } catch (err) {\n    snack.enqueueSnackbar(`Error: ${err.toString()}`, {\n      variant: \"error\",\n    });\n  }\n}\n\nexport function ViewTransactionOnExplorerButton(props: Props) {\n  const { signature } = props;\n  const { explorerClusterSuffix } = useSelector((state: StoreState) => {\n    return {\n      explorerClusterSuffix: state.common.network.explorerClusterSuffix,\n    };\n  });\n  const urlSuffix = `?cluster=${explorerClusterSuffix}`;\n  return (\n    <Button\n      color=\"inherit\"\n      component=\"a\"\n      target=\"_blank\"\n      rel=\"noopener\"\n      href={`https://explorer.solana.com/tx/${signature}` + urlSuffix}\n    >\n      View on Solana Explorer\n    </Button>\n  );\n}\n","import { struct, Layout } from \"buffer-layout\";\nimport { rustEnum } from \"@project-serum/borsh\";\n\n// Simplified since we only use the SetBuffer variant.\nexport type IdlInstruction =\n  | Create\n  | CreateBuffer\n  | Write\n  | SetBuffer\n  | SetAuthority;\n\ntype Create = {};\ntype CreateBuffer = {};\ntype Write = {};\ntype SetBuffer = {};\ntype SetAuthority = {};\n\nconst IDL_INSTRUCTION_LAYOUT: Layout<IdlInstruction> = rustEnum([\n  struct([], \"create\"),\n  struct([], \"createBuffer\"),\n  struct([], \"write\"),\n  struct([], \"setBuffer\"),\n  struct([], \"setAuthority\"),\n]);\n\nexport function encodeInstruction(i: IdlInstruction): Buffer {\n  const buffer = Buffer.alloc(1000); // TODO: use a tighter buffer.\n  const len = IDL_INSTRUCTION_LAYOUT.encode(i, buffer);\n  return Buffer.concat([IDL_TAG, buffer.slice(0, len)]);\n}\n\n// Reverse for little endian.\nexport const IDL_TAG = Buffer.from(\"0a69e9a778bcf440\", \"hex\").reverse();\n","import React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router\";\nimport { useSnackbar } from \"notistack\";\nimport { fromUint8Array as fromUint8ArrayToBase64 } from \"js-base64\";\nimport Container from \"@material-ui/core/Container\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport GavelIcon from \"@material-ui/icons/Gavel\";\nimport DescriptionIcon from \"@material-ui/icons/Description\";\nimport Paper from \"@material-ui/core/Paper\";\nimport SupervisorAccountIcon from \"@material-ui/icons/SupervisorAccount\";\nimport CheckIcon from \"@material-ui/icons/Check\";\nimport ReceiptIcon from \"@material-ui/icons/Receipt\";\nimport RemoveIcon from \"@material-ui/icons/Remove\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport InfoIcon from \"@material-ui/icons/Info\";\nimport Table from \"@material-ui/core/Table\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport BuildIcon from \"@material-ui/icons/Build\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Card from \"@material-ui/core/Card\";\nimport ExpandLess from \"@material-ui/icons/ExpandLess\";\nimport ExpandMore from \"@material-ui/icons/ExpandMore\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport TextField from \"@material-ui/core/TextField\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Button from \"@material-ui/core/Button\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport List from \"@material-ui/core/List\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport BN from \"bn.js\";\nimport {\n  Account,\n  PublicKey,\n  SYSVAR_RENT_PUBKEY,\n  SYSVAR_CLOCK_PUBKEY,\n} from \"@solana/web3.js\";\nimport * as anchor from \"@project-serum/anchor\";\nimport { useWallet } from \"./WalletProvider\";\nimport { ViewTransactionOnExplorerButton } from \"./Notification\";\nimport * as idl from \"../utils/idl\";\nimport { networks } from \"../store/reducer\";\n\n// Seed for generating the idlAddress.\nfunction seed(): string {\n  return \"anchor:idl\";\n}\n\n// Deterministic IDL address as a function of the program id.\nasync function idlAddress(programId: PublicKey): Promise<PublicKey> {\n  const base = (await PublicKey.findProgramAddress([], programId))[0];\n  return await PublicKey.createWithSeed(base, seed(), programId);\n}\n\nexport default function Multisig({ multisig }: { multisig?: PublicKey }) {\n  return (\n    <div>\n      <Container fixed maxWidth=\"md\">\n        <div\n          style={{\n            position: \"fixed\",\n            bottom: \"75px\",\n            right: \"75px\",\n            display: \"flex\",\n            flexDirection: \"row-reverse\",\n          }}\n        >\n          <NewMultisigButton />\n        </div>\n      </Container>\n      {multisig && <MultisigInstance multisig={multisig} />}\n    </div>\n  );\n}\n\nfunction NewMultisigButton() {\n  const [open, setOpen] = useState(false);\n  return (\n    <div style={{ display: \"flex\" }}>\n      <IconButton\n        style={{\n          border: \"solid 1pt #ccc\",\n          width: \"60px\",\n          height: \"60px\",\n          borderRadius: \"30px\",\n        }}\n        onClick={() => setOpen(true)}\n      >\n        <AddIcon />\n      </IconButton>\n      <NewMultisigDialog open={open} onClose={() => setOpen(false)} />\n    </div>\n  );\n}\n\nexport function MultisigInstance({ multisig }: { multisig: PublicKey }) {\n  const { multisigClient } = useWallet();\n  const [multisigAccount, setMultisigAccount] = useState<any>(undefined);\n  const [transactions, setTransactions] = useState<any>(null);\n  const [showSignerDialog, setShowSignerDialog] = useState(false);\n  const [showAddTransactionDialog, setShowAddTransactionDialog] =\n    useState(false);\n  const [forceRefresh, setForceRefresh] = useState(false);\n  useEffect(() => {\n    multisigClient.account.multisig\n      .fetch(multisig)\n      .then((account: any) => {\n        setMultisigAccount(account);\n      })\n      .catch((err: any) => {\n        console.error(err);\n        setMultisigAccount(null);\n      });\n  }, [multisig, multisigClient.account]);\n  useEffect(() => {\n    multisigClient.account.transaction.all(multisig.toBuffer()).then((txs) => {\n      setTransactions(txs);\n    });\n  }, [multisigClient.account.transaction, multisig, forceRefresh]);\n  useEffect(() => {\n    multisigClient.account.multisig\n      .subscribe(multisig)\n      .on(\"change\", (account) => {\n        setMultisigAccount(account);\n      });\n  }, [multisigClient, multisig]);\n  return (\n    <Container fixed maxWidth=\"md\" style={{ marginBottom: \"16px\" }}>\n      <div>\n        <Card style={{ marginTop: \"24px\" }}>\n          {multisigAccount === undefined ? (\n            <div style={{ padding: \"16px\" }}>\n              <CircularProgress\n                style={{\n                  display: \"block\",\n                  marginLeft: \"auto\",\n                  marginRight: \"auto\",\n                }}\n              />\n            </div>\n          ) : multisigAccount === null ? (\n            <CardContent>\n              <Typography\n                color=\"textSecondary\"\n                style={{\n                  padding: \"24px\",\n                  textAlign: \"center\",\n                }}\n              >\n                Multisig not found\n              </Typography>\n            </CardContent>\n          ) : (\n            <></>\n          )}\n        </Card>\n        {multisigAccount && (\n          <Paper>\n            <AppBar\n              style={{ marginTop: \"24px\" }}\n              position=\"static\"\n              color=\"default\"\n              elevation={1}\n            >\n              <Toolbar>\n                <Typography variant=\"h6\" style={{ flexGrow: 1 }} component=\"h2\">\n                  {multisig.toString()} | {multisigAccount.threshold.toString()}{\" \"}\n                  of {multisigAccount.owners.length.toString()} Multisig\n                </Typography>\n                <Tooltip title=\"Signer\" arrow>\n                  <IconButton onClick={() => setShowSignerDialog(true)}>\n                    <InfoIcon />\n                  </IconButton>\n                </Tooltip>\n                <Tooltip title=\"Add\" arrow>\n                  <IconButton onClick={() => setShowAddTransactionDialog(true)}>\n                    <AddIcon />\n                  </IconButton>\n                </Tooltip>\n              </Toolbar>\n            </AppBar>\n            <List disablePadding>\n              {transactions === null ? (\n                <div style={{ padding: \"16px\" }}>\n                  <CircularProgress\n                    style={{\n                      display: \"block\",\n                      marginLeft: \"auto\",\n                      marginRight: \"auto\",\n                    }}\n                  />\n                </div>\n              ) : transactions.length === 0 ? (\n                <ListItem>\n                  <ListItemText primary=\"No transactions found\" />\n                </ListItem>\n              ) : (\n                transactions.map((tx: any) => (\n                  <TxListItem\n                    key={tx.publicKey.toString()}\n                    multisig={multisig}\n                    multisigAccount={multisigAccount}\n                    tx={tx}\n                  />\n                ))\n              )}\n            </List>\n          </Paper>\n        )}\n      </div>\n      <AddTransactionDialog\n        multisig={multisig}\n        open={showAddTransactionDialog}\n        onClose={() => setShowAddTransactionDialog(false)}\n        didAddTransaction={() => setForceRefresh(!forceRefresh)}\n      />\n      {multisigAccount && (\n        <SignerDialog\n          multisig={multisig}\n          multisigAccount={multisigAccount}\n          open={showSignerDialog}\n          onClose={() => setShowSignerDialog(false)}\n        />\n      )}\n    </Container>\n  );\n}\n\nexport function NewMultisigDialog({\n  open,\n  onClose,\n}: {\n  open: boolean;\n  onClose: () => void;\n}) {\n  const history = useHistory();\n  const { multisigClient } = useWallet();\n  const { enqueueSnackbar } = useSnackbar();\n  const [threshold, setThreshold] = useState(2);\n  // @ts-ignore\n  const zeroAddr = PublicKey.default.toString();\n  const [participants, setParticipants] = useState([zeroAddr]);\n  const _onClose = () => {\n    onClose();\n    setThreshold(2);\n    setParticipants([zeroAddr, zeroAddr]);\n  };\n  const [maxParticipantLength, setMaxParticipantLength] = useState(10);\n  const disableCreate = maxParticipantLength < participants.length;\n  const createMultisig = async () => {\n    enqueueSnackbar(\"Creating multisig\", {\n      variant: \"info\",\n    });\n    const multisig = new Account();\n    // Disc. + threshold + nonce.\n    const baseSize = 8 + 8 + 1 + 4;\n    // Add enough for 2 more participants, in case the user changes one's\n    /// mind later.\n    const fudge = 64;\n    // Can only grow the participant set by 2x the initialized value.\n    const ownerSize = maxParticipantLength * 32 + 8;\n    const multisigSize = baseSize + ownerSize + fudge;\n    const [, nonce] = await PublicKey.findProgramAddress(\n      [multisig.publicKey.toBuffer()],\n      multisigClient.programId\n    );\n    const owners = participants.map((p) => new PublicKey(p));\n    const tx = await multisigClient.rpc.createMultisig(\n      owners,\n      new BN(threshold),\n      nonce,\n      {\n        accounts: {\n          multisig: multisig.publicKey,\n          rent: SYSVAR_RENT_PUBKEY,\n        },\n        signers: [multisig],\n        instructions: [\n          await multisigClient.account.multisig.createInstruction(\n            multisig,\n            // @ts-ignore\n            multisigSize\n          ),\n        ],\n      }\n    );\n    enqueueSnackbar(`Multisig created: ${multisig.publicKey.toString()}`, {\n      variant: \"success\",\n      action: <ViewTransactionOnExplorerButton signature={tx} />,\n    });\n    _onClose();\n    history.push(`/${multisig.publicKey.toString()}`);\n  };\n  return (\n    <Dialog fullWidth open={open} onClose={_onClose} maxWidth=\"md\">\n      <DialogTitle>\n        <Typography variant=\"h4\" component=\"h2\">\n          New Multisig\n        </Typography>\n      </DialogTitle>\n      <DialogContent>\n        <TextField\n          fullWidth\n          label=\"Threshold\"\n          value={threshold}\n          type=\"number\"\n          onChange={(e) => setThreshold(parseInt(e.target.value) as number)}\n        />\n        <TextField\n          fullWidth\n          label=\"Max Number of Participants (cannot grow the owner set past this)\"\n          value={maxParticipantLength}\n          type=\"number\"\n          onChange={(e) =>\n            setMaxParticipantLength(parseInt(e.target.value) as number)\n          }\n        />\n        {participants.map((p, idx) => (\n          <TextField\n            key={p}\n            fullWidth\n            label=\"Participant\"\n            value={p}\n            onChange={(e) => {\n              const p = [...participants];\n              p[idx] = e.target.value;\n              setParticipants(p);\n            }}\n          />\n        ))}\n        <div style={{ display: \"flex\", justifyContent: \"flex-end\" }}>\n          <IconButton\n            onClick={() => {\n              const p = [...participants];\n              // @ts-ignore\n              p.push(new PublicKey(\"11111111111111111111111111111111\").toString());\n              setParticipants(p);\n            }}\n          >\n            <AddIcon />\n          </IconButton>\n        </div>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={_onClose}>Cancel</Button>\n        <Button\n          disabled={disableCreate}\n          variant=\"contained\"\n          type=\"submit\"\n          color=\"primary\"\n          onClick={() =>\n            createMultisig().catch((err) => {\n              const str = err ? err.toString() : \"\";\n              enqueueSnackbar(`Error creating multisig: ${str}`, {\n                variant: \"error\",\n              });\n            })\n          }\n        >\n          Create\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nfunction TxListItem({\n  multisig,\n  multisigAccount,\n  tx,\n}: {\n  multisig: PublicKey;\n  multisigAccount: any;\n  tx: any;\n}) {\n  const { enqueueSnackbar } = useSnackbar();\n  const { multisigClient } = useWallet();\n  const [open, setOpen] = useState(false);\n  const [txAccount, setTxAccount] = useState(tx.account);\n  useEffect(() => {\n    multisigClient.account.transaction\n      .subscribe(tx.publicKey)\n      .on(\"change\", (account) => {\n        setTxAccount(account);\n      });\n  }, [multisigClient, multisig, tx.publicKey]);\n\n  let txData = fromUint8ArrayToBase64(txAccount.data)\n  let translated = \"\";\n  if (txAccount.programId.toString() === \"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA\" &&\n    txAccount.data[0] === 3 // 3=>SPL-Token-Transfer\n  ) {\n    let slice = txAccount.data.slice(1, 9);\n    let amount = new BN(slice, 'le').fromTwos(64);\n    translated = \"Transfer \" + amount.toNumber() / 1e9 + \" from \" + txAccount.accounts[0].pubkey.toBase58() + \" to \" + txAccount.accounts[1].pubkey.toBase58();\n  }\n  // TODO - include Marinade.IDL and decode instruction Data\n  /*else if (txAccount.programId.toString() === \"MarBmsSgKXdrN1egZf5sqe1TMai9K1rChYNDJgjq7aD\" &&\n    txData.startsWith(\"QwMicr\")) {\n    translated = \"Marinade\"\n    let slice = txAccount.data.slice(8, 8 + 3);\n    let bn = new BN(slice, 'le').fromTwos(64);\n    translated = bn.toString()\n  }\n  */\n\n  const rows = [\n    {\n      field: \"Decoded\",\n      value: translated,\n    },\n    {\n      field: \"Program ID\",\n      value: txAccount.programId.toString(),\n    },\n    {\n      field: \"Did execute\",\n      value: txAccount.didExecute.toString(),\n    },\n    {\n      field: \"Instruction data\",\n      value: (\n        <code\n          style={{\n            wordBreak: \"break-word\",\n            width: \"370px\",\n            background: \"black\",\n            color: \"#ffffff\",\n            float: \"right\",\n            textAlign: \"left\",\n          }}\n        >\n          {txData}\n        </code>\n      ),\n    },\n    {\n      field: \"Multisig\",\n      value: txAccount.multisig.toString(),\n    },\n    {\n      field: \"Transaction account\",\n      value: tx.publicKey.toString(),\n    },\n    {\n      field: \"Owner set seqno\",\n      value: txAccount.ownerSetSeqno.toString(),\n    },\n  ];\n  const msAccountRows = multisigAccount.owners.map(\n    (owner: PublicKey, idx: number) => {\n      return {\n        field: owner.toString(),\n        value: txAccount.signers[idx] ? <CheckIcon /> : <RemoveIcon />,\n      };\n    }\n  );\n  const approve = async () => {\n    if (!multisigClient.provider.wallet.publicKey)\n      throw Error(\"Wallet not connected\");\n    enqueueSnackbar(\"Approving transaction\", {\n      variant: \"info\",\n    });\n    await multisigClient.rpc.approve({\n      accounts: {\n        multisig,\n        transaction: tx.publicKey,\n        owner: multisigClient.provider.wallet.publicKey,\n      },\n    });\n    enqueueSnackbar(\"Transaction approved\", {\n      variant: \"success\",\n    });\n  };\n  const execute = async () => {\n    enqueueSnackbar(\"Executing transaction\", {\n      variant: \"info\",\n    });\n    const [multisigSigner] = await PublicKey.findProgramAddress(\n      [multisig.toBuffer()],\n      multisigClient.programId\n    );\n    await multisigClient.rpc.executeTransaction({\n      accounts: {\n        multisig,\n        multisigSigner,\n        transaction: tx.publicKey,\n      },\n      remainingAccounts: txAccount.accounts\n        .map((t: any) => {\n          if (t.pubkey.equals(multisigSigner)) {\n            return { ...t, isSigner: false };\n          }\n          return t;\n        })\n        .concat({\n          pubkey: txAccount.programId,\n          isWritable: false,\n          isSigner: false,\n        }),\n    });\n    enqueueSnackbar(\"Transaction executed\", {\n      variant: \"success\",\n    });\n  };\n  return (\n    <>\n      <ListItem button onClick={() => setOpen(!open)}>\n        <ListItemIcon>{icon(tx, multisigClient)}</ListItemIcon>\n        {ixLabel(tx, multisigClient)}\n        {txAccount.didExecute && (\n          <CheckCircleIcon style={{ marginRight: \"16px\" }} />\n        )}\n        {open ? <ExpandLess /> : <ExpandMore />}\n      </ListItem>\n      <Collapse in={open} timeout=\"auto\" unmountOnExit>\n        <div style={{ background: \"#ececec\", padding: \"10px\" }}>\n          <div style={{ display: \"flex\", justifyContent: \"flex-end\" }}>\n            <Button\n              style={{ marginRight: \"10px\" }}\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={() =>\n                approve().catch((err) => {\n                  let errStr = \"\";\n                  if (err) {\n                    errStr = err.toString();\n                  }\n                  enqueueSnackbar(`Unable to approve transaction: ${errStr}`, {\n                    variant: \"error\",\n                  });\n                })\n              }\n            >\n              Approve\n            </Button>\n            <Button\n              variant=\"contained\"\n              color=\"secondary\"\n              onClick={() =>\n                execute().catch((err) => {\n                  let errStr = \"\";\n                  if (err) {\n                    errStr = err.toString();\n                  }\n                  enqueueSnackbar(`Unable to execute transaction: ${errStr}`, {\n                    variant: \"error\",\n                  });\n                })\n              }\n            >\n              Execute\n            </Button>\n          </div>\n          <Card style={{ marginTop: \"16px\" }}>\n            <CardContent>\n              <Table>\n                <TableHead>\n                  <TableRow>\n                    <TableCell>Transaction Field</TableCell>\n                    <TableCell align=\"right\">Value</TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  {rows.map((r) => (\n                    <TableRow>\n                      <TableCell>{r.field}</TableCell>\n                      <TableCell align=\"right\">{r.value}</TableCell>\n                    </TableRow>\n                  ))}\n                </TableBody>\n              </Table>\n            </CardContent>\n          </Card>\n          <Card style={{ marginTop: \"16px\" }}>\n            <CardContent>\n              <Table>\n                <TableHead>\n                  <TableRow>\n                    <TableCell>Multisig Owner</TableCell>\n                    <TableCell align=\"right\">Did Sign</TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  {txAccount.ownerSetSeqno === multisigAccount.ownerSetSeqno &&\n                    msAccountRows.map((r: any) => (\n                      <TableRow>\n                        <TableCell>{r.field}</TableCell>\n                        <TableCell align=\"right\">{r.value}</TableCell>\n                      </TableRow>\n                    ))}\n                </TableBody>\n              </Table>\n              {txAccount.ownerSetSeqno !== multisigAccount.ownerSetSeqno && (\n                <div style={{ marginTop: \"16px\" }}>\n                  <Typography\n                    color=\"textSecondary\"\n                    style={{ textAlign: \"center\" }}\n                  >\n                    The owner set has changed since this transaction was created\n                  </Typography>\n                </div>\n              )}\n            </CardContent>\n          </Card>\n          <Card style={{ marginTop: \"16px\" }}>\n            <CardContent>\n              <AccountsList accounts={txAccount.accounts} />\n            </CardContent>\n          </Card>\n        </div>\n      </Collapse>\n    </>\n  );\n}\n\nfunction ixLabel(tx: any, multisigClient: any) {\n  if (tx.account.programId.equals(BPF_LOADER_UPGRADEABLE_PID)) {\n    // Upgrade instruction.\n    if (tx.account.data.equals(Buffer.from([3, 0, 0, 0]))) {\n      return (\n        <ListItemText\n          primary=\"Program upgrade\"\n          secondary={tx.publicKey.toString()}\n        />\n      );\n    }\n  }\n  if (tx.account.programId.equals(multisigClient.programId)) {\n    const setThresholdSighash = multisigClient.coder.sighash(\n      \"global\",\n      \"change_threshold\"\n    );\n    if (setThresholdSighash.equals(tx.account.data.slice(0, 8))) {\n      return (\n        <ListItemText\n          primary=\"Set threshold\"\n          secondary={tx.publicKey.toString()}\n        />\n      );\n    }\n    const setOwnersSighash = multisigClient.coder.sighash(\n      \"global\",\n      \"set_owners\"\n    );\n    if (setOwnersSighash.equals(tx.account.data.slice(0, 8))) {\n      return (\n        <ListItemText\n          primary=\"Set owners\"\n          secondary={tx.publicKey.toString()}\n        />\n      );\n    }\n  }\n  if (idl.IDL_TAG.equals(tx.account.data.slice(0, 8))) {\n    return (\n      <ListItemText primary=\"Upgrade IDL\" secondary={tx.publicKey.toString()} />\n    );\n  }\n  return <ListItemText primary={tx.publicKey.toString()} />;\n}\n\nfunction AccountsList({ accounts }: { accounts: any }) {\n  return (\n    <Table>\n      <TableHead>\n        <TableRow>\n          <TableCell>Account</TableCell>\n          <TableCell align=\"right\">Writable</TableCell>\n          <TableCell align=\"right\">Signer</TableCell>\n        </TableRow>\n      </TableHead>\n      <TableBody>\n        {accounts.map((r: any) => (\n          <TableRow>\n            <TableCell>{r.pubkey.toString()}</TableCell>\n            <TableCell align=\"right\">{r.isWritable.toString()}</TableCell>\n            <TableCell align=\"right\">{r.isSigner.toString()}</TableCell>\n          </TableRow>\n        ))}\n      </TableBody>\n    </Table>\n  );\n}\n\nfunction SignerDialog({\n  multisig,\n  multisigAccount,\n  open,\n  onClose,\n}: {\n  multisig: PublicKey;\n  multisigAccount: any;\n  open: boolean;\n  onClose: () => void;\n}) {\n  const { multisigClient } = useWallet();\n  const [signer, setSigner] = useState<null | string>(null);\n  useEffect(() => {\n    PublicKey.findProgramAddress(\n      [multisig.toBuffer()],\n      multisigClient.programId\n    ).then((addrNonce) => setSigner(addrNonce[0].toString()));\n  }, [multisig, multisigClient.programId, setSigner]);\n  return (\n    <Dialog open={open} fullWidth onClose={onClose} maxWidth=\"md\">\n      <DialogTitle>\n        <Typography variant=\"h4\" component=\"h2\">\n          Multisig Info\n        </Typography>\n      </DialogTitle>\n      <DialogContent style={{ paddingBottom: \"16px\" }}>\n        {multisig?.equals(networks.mainnet.multisigUpgradeAuthority!) && (\n          <DialogContentText>\n            This multisig is the upgrade authority for the multisig program\n            itself.\n          </DialogContentText>\n        )}\n        <DialogContentText>\n          <b>Program derived address</b>: {signer}. This is the address one\n          should use as the authority for data governed by the multisig.\n        </DialogContentText>\n        <Table>\n          <TableHead>\n            <TableRow>\n              <TableCell>Owners</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {multisigAccount.owners.map((r: any) => (\n              <TableRow>\n                <TableCell>{r.toString()}</TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={onClose}>Close</Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nfunction AddTransactionDialog({\n  multisig,\n  open,\n  onClose,\n  didAddTransaction,\n}: {\n  multisig: PublicKey;\n  open: boolean;\n  onClose: () => void;\n  didAddTransaction: (tx: PublicKey) => void;\n}) {\n  return (\n    <Dialog open={open} fullWidth onClose={onClose} maxWidth=\"md\">\n      <DialogTitle>\n        <Typography variant=\"h4\" component=\"h2\">\n          New Transaction\n        </Typography>\n      </DialogTitle>\n      <DialogContent style={{ paddingBottom: \"16px\" }}>\n        <DialogContentText>\n          Create a new transaction to be signed by the multisig. This\n          transaction will not execute until enough owners have signed the\n          transaction.\n        </DialogContentText>\n        <List disablePadding>\n          <ProgramUpdateListItem\n            didAddTransaction={didAddTransaction}\n            multisig={multisig}\n            onClose={onClose}\n          />\n          <IdlUpgradeListItem\n            didAddTransaction={didAddTransaction}\n            multisig={multisig}\n            onClose={onClose}\n          />\n          <MultisigSetOwnersListItem\n            didAddTransaction={didAddTransaction}\n            multisig={multisig}\n            onClose={onClose}\n          />\n          <ChangeThresholdListItem\n            didAddTransaction={didAddTransaction}\n            multisig={multisig}\n            onClose={onClose}\n          />\n        </List>\n      </DialogContent>\n    </Dialog>\n  );\n}\n\nfunction ChangeThresholdListItem({\n  multisig,\n  onClose,\n  didAddTransaction,\n}: {\n  multisig: PublicKey;\n  onClose: Function;\n  didAddTransaction: (tx: PublicKey) => void;\n}) {\n  const [open, setOpen] = useState(false);\n  return (\n    <>\n      <ListItem button onClick={() => setOpen((open) => !open)}>\n        <ListItemIcon>\n          <GavelIcon />\n        </ListItemIcon>\n        <ListItemText primary={\"Change threshold\"} />\n        {open ? <ExpandLess /> : <ExpandMore />}\n      </ListItem>\n      <Collapse in={open} timeout=\"auto\" unmountOnExit>\n        <ChangeThresholdListItemDetails\n          didAddTransaction={didAddTransaction}\n          multisig={multisig}\n          onClose={onClose}\n        />\n      </Collapse>\n    </>\n  );\n}\n\nfunction ChangeThresholdListItemDetails({\n  multisig,\n  onClose,\n  didAddTransaction,\n}: {\n  multisig: PublicKey;\n  onClose: Function;\n  didAddTransaction: (tx: PublicKey) => void;\n}) {\n  const [threshold, setThreshold] = useState(2);\n  const { multisigClient } = useWallet();\n  // @ts-ignore\n  const { enqueueSnackbar } = useSnackbar();\n  const changeThreshold = async () => {\n    if (!multisigClient.provider.wallet.publicKey)\n      throw Error(\"Wallet not connected\");\n    enqueueSnackbar(\"Creating change threshold transaction\", {\n      variant: \"info\",\n    });\n    const data = changeThresholdData(multisigClient, threshold);\n    const [multisigSigner] = await PublicKey.findProgramAddress(\n      [multisig.toBuffer()],\n      multisigClient.programId\n    );\n    const accounts = [\n      {\n        pubkey: multisig,\n        isWritable: true,\n        isSigner: false,\n      },\n      {\n        pubkey: multisigSigner,\n        isWritable: false,\n        isSigner: true,\n      },\n    ];\n    const transaction = new Account();\n    const txSize = 1000; // todo\n    const tx = await multisigClient.rpc.createTransaction(\n      multisigClient.programId,\n      accounts,\n      data,\n      {\n        accounts: {\n          multisig,\n          transaction: transaction.publicKey,\n          proposer: multisigClient.provider.wallet.publicKey,\n          rent: SYSVAR_RENT_PUBKEY,\n        },\n        signers: [transaction],\n        instructions: [\n          await multisigClient.account.transaction.createInstruction(\n            transaction,\n            // @ts-ignore\n            txSize\n          ),\n        ],\n      }\n    );\n    enqueueSnackbar(\"Transaction created\", {\n      variant: \"success\",\n      action: <ViewTransactionOnExplorerButton signature={tx} />,\n    });\n    didAddTransaction(transaction.publicKey);\n    onClose();\n  };\n  return (\n    <div\n      style={{\n        background: \"#f1f0f0\",\n        paddingLeft: \"24px\",\n        paddingRight: \"24px\",\n      }}\n    >\n      <TextField\n        fullWidth\n        style={{ marginTop: \"16px\" }}\n        label=\"Threshold\"\n        value={threshold}\n        type=\"number\"\n        onChange={(e) => {\n          // @ts-ignore\n          setThreshold(e.target.value);\n        }}\n      />\n      <div style={{ display: \"flex\", justifyContent: \"flex-end\" }}>\n        <Button onClick={() => changeThreshold()}>Change Threshold</Button>\n      </div>\n    </div>\n  );\n}\n\nfunction MultisigSetOwnersListItem({\n  multisig,\n  onClose,\n  didAddTransaction,\n}: {\n  multisig: PublicKey;\n  onClose: Function;\n  didAddTransaction: (tx: PublicKey) => void;\n}) {\n  const [open, setOpen] = useState(false);\n  return (\n    <>\n      <ListItem button onClick={() => setOpen((open) => !open)}>\n        <ListItemIcon>\n          <SupervisorAccountIcon />\n        </ListItemIcon>\n        <ListItemText primary={\"Set owners\"} />\n        {open ? <ExpandLess /> : <ExpandMore />}\n      </ListItem>\n      <Collapse in={open} timeout=\"auto\" unmountOnExit>\n        <SetOwnersListItemDetails\n          didAddTransaction={didAddTransaction}\n          multisig={multisig}\n          onClose={onClose}\n        />\n      </Collapse>\n    </>\n  );\n}\n\nfunction SetOwnersListItemDetails({\n  multisig,\n  onClose,\n  didAddTransaction,\n}: {\n  multisig: PublicKey;\n  onClose: Function;\n  didAddTransaction: (tx: PublicKey) => void;\n}) {\n  const { multisigClient } = useWallet();\n  // @ts-ignore\n  const zeroAddr = PublicKey.default.toString();\n  const [participants, setParticipants] = useState([zeroAddr]);\n  const { enqueueSnackbar } = useSnackbar();\n  const setOwners = async () => {\n    if (!multisigClient.provider.wallet.publicKey)\n      throw Error(\"Wallet not connected\");\n    enqueueSnackbar(\"Creating setOwners transaction\", {\n      variant: \"info\",\n    });\n    const owners = participants.map((p) => new PublicKey(p));\n    const data = setOwnersData(multisigClient, owners);\n    const [multisigSigner] = await PublicKey.findProgramAddress(\n      [multisig.toBuffer()],\n      multisigClient.programId\n    );\n    const accounts = [\n      {\n        pubkey: multisig,\n        isWritable: true,\n        isSigner: false,\n      },\n      {\n        pubkey: multisigSigner,\n        isWritable: false,\n        isSigner: true,\n      },\n    ];\n    const transaction = new Account();\n    const txSize = 5000; // TODO: tighter bound.\n    const tx = await multisigClient.rpc.createTransaction(\n      multisigClient.programId,\n      accounts,\n      data,\n      {\n        accounts: {\n          multisig,\n          transaction: transaction.publicKey,\n          proposer: multisigClient.provider.wallet.publicKey,\n          rent: SYSVAR_RENT_PUBKEY,\n        },\n        signers: [transaction],\n        instructions: [\n          await multisigClient.account.transaction.createInstruction(\n            transaction,\n            // @ts-ignore\n            txSize\n          ),\n        ],\n      }\n    );\n    enqueueSnackbar(\"Transaction created\", {\n      variant: \"success\",\n      action: <ViewTransactionOnExplorerButton signature={tx} />,\n    });\n    didAddTransaction(transaction.publicKey);\n    onClose();\n  };\n  return (\n    <div\n      style={{\n        background: \"#f1f0f0\",\n        paddingLeft: \"24px\",\n        paddingRight: \"24px\",\n      }}\n    >\n      {participants.map((p, idx) => (\n        <TextField\n          fullWidth\n          style={{ marginTop: \"16px\" }}\n          label=\"Participant\"\n          value={p}\n          onChange={(e) => {\n            const p = [...participants];\n            p[idx] = e.target.value;\n            setParticipants(p);\n          }}\n        />\n      ))}\n      <div style={{ display: \"flex\", justifyContent: \"flex-end\" }}>\n        <IconButton\n          onClick={() => {\n            const p = [...participants];\n            // @ts-ignore\n            p.push(new PublicKey(\"11111111111111111111111111111111\").toString());\n            setParticipants(p);\n          }}\n        >\n          <AddIcon />\n        </IconButton>\n      </div>\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"flex-end\",\n          marginTop: \"16px\",\n          paddingBottom: \"16px\",\n        }}\n      >\n        <Button onClick={() => setOwners()}>Set Owners</Button>\n      </div>\n    </div>\n  );\n}\n\nfunction IdlUpgradeListItem({\n  multisig,\n  onClose,\n  didAddTransaction,\n}: {\n  multisig: PublicKey;\n  onClose: Function;\n  didAddTransaction: (tx: PublicKey) => void;\n}) {\n  const [open, setOpen] = useState(false);\n  return (\n    <>\n      <ListItem button onClick={() => setOpen((open) => !open)}>\n        <ListItemIcon>\n          <DescriptionIcon />\n        </ListItemIcon>\n        <ListItemText primary={\"Upgrade IDL\"} />\n        {open ? <ExpandLess /> : <ExpandMore />}\n      </ListItem>\n      <Collapse in={open} timeout=\"auto\" unmountOnExit>\n        <UpgradeIdlListItemDetails\n          didAddTransaction={didAddTransaction}\n          multisig={multisig}\n          onClose={onClose}\n        />\n      </Collapse>\n    </>\n  );\n}\n\nfunction UpgradeIdlListItemDetails({\n  multisig,\n  onClose,\n  didAddTransaction,\n}: {\n  multisig: PublicKey;\n  onClose: Function;\n  didAddTransaction: (tx: PublicKey) => void;\n}) {\n  const [programId, setProgramId] = useState<null | string>(null);\n  const [buffer, setBuffer] = useState<null | string>(null);\n\n  const { multisigClient } = useWallet();\n  const { enqueueSnackbar } = useSnackbar();\n  const createTransactionAccount = async () => {\n    if (!multisigClient.provider.wallet.publicKey)\n      throw Error(\"Wallet not connected\");\n    enqueueSnackbar(\"Creating transaction\", {\n      variant: \"info\",\n    });\n    const programAddr = new PublicKey(programId as string);\n    const bufferAddr = new PublicKey(buffer as string);\n    const idlAddr = await idlAddress(programAddr);\n    const [multisigSigner] = await PublicKey.findProgramAddress(\n      [multisig.toBuffer()],\n      multisigClient.programId\n    );\n    const data = idl.encodeInstruction({ setBuffer: {} });\n    const accs = [\n      {\n        pubkey: bufferAddr,\n        isWritable: true,\n        isSigner: false,\n      },\n      { pubkey: idlAddr, isWritable: true, isSigner: false },\n      { pubkey: multisigSigner, isWritable: true, isSigner: false },\n    ];\n    const txSize = 1000; // TODO: tighter bound.\n    const transaction = new Account();\n    const tx = await multisigClient.rpc.createTransaction(\n      programAddr,\n      accs,\n      data,\n      {\n        accounts: {\n          multisig,\n          transaction: transaction.publicKey,\n          proposer: multisigClient.provider.wallet.publicKey,\n          rent: SYSVAR_RENT_PUBKEY,\n        },\n        signers: [transaction],\n        instructions: [\n          await multisigClient.account.transaction.createInstruction(\n            transaction,\n            // @ts-ignore\n            txSize\n          ),\n        ],\n      }\n    );\n    enqueueSnackbar(\"Transaction created\", {\n      variant: \"success\",\n      action: <ViewTransactionOnExplorerButton signature={tx} />,\n    });\n    didAddTransaction(transaction.publicKey);\n    onClose();\n  };\n\n  return (\n    <div\n      style={{\n        background: \"#f1f0f0\",\n        paddingLeft: \"24px\",\n        paddingRight: \"24px\",\n      }}\n    >\n      <TextField\n        fullWidth\n        style={{ marginTop: \"16px\" }}\n        label=\"Program ID\"\n        value={programId}\n        onChange={(e) => setProgramId(e.target.value as string)}\n      />\n      <TextField\n        style={{ marginTop: \"16px\" }}\n        fullWidth\n        label=\"New IDL buffer\"\n        value={buffer}\n        onChange={(e) => setBuffer(e.target.value as string)}\n      />\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"flex-end\",\n          marginTop: \"16px\",\n          paddingBottom: \"16px\",\n        }}\n      >\n        <Button onClick={() => createTransactionAccount()}>\n          Create upgrade\n        </Button>\n      </div>\n    </div>\n  );\n}\n\nfunction ProgramUpdateListItem({\n  multisig,\n  onClose,\n  didAddTransaction,\n}: {\n  multisig: PublicKey;\n  onClose: Function;\n  didAddTransaction: (tx: PublicKey) => void;\n}) {\n  const [open, setOpen] = useState(false);\n  return (\n    <>\n      <ListItem button onClick={() => setOpen((open) => !open)}>\n        <ListItemIcon>\n          <BuildIcon />\n        </ListItemIcon>\n        <ListItemText primary={\"Upgrade program\"} />\n        {open ? <ExpandLess /> : <ExpandMore />}\n      </ListItem>\n      <Collapse in={open} timeout=\"auto\" unmountOnExit>\n        <UpgradeProgramListItemDetails\n          didAddTransaction={didAddTransaction}\n          multisig={multisig}\n          onClose={onClose}\n        />\n      </Collapse>\n    </>\n  );\n}\n\nconst BPF_LOADER_UPGRADEABLE_PID = new PublicKey(\n  \"BPFLoaderUpgradeab1e11111111111111111111111\"\n);\n\nfunction UpgradeProgramListItemDetails({\n  multisig,\n  onClose,\n  didAddTransaction,\n}: {\n  multisig: PublicKey;\n  onClose: Function;\n  didAddTransaction: (tx: PublicKey) => void;\n}) {\n  const [programId, setProgramId] = useState<null | string>(null);\n  const [buffer, setBuffer] = useState<null | string>(null);\n\n  const { multisigClient } = useWallet();\n  const { enqueueSnackbar } = useSnackbar();\n  const createTransactionAccount = async () => {\n    if (!multisigClient.provider.wallet.publicKey)\n      throw Error(\"Wallet not connected\");\n    enqueueSnackbar(\"Creating transaction\", {\n      variant: \"info\",\n    });\n    const programAddr = new PublicKey(programId as string);\n    const bufferAddr = new PublicKey(buffer as string);\n    // Hard code serialization.\n    const data = Buffer.from([3, 0, 0, 0]);\n\n    const programAccount = await (async () => {\n      const programAccount =\n        await multisigClient.provider.connection.getAccountInfo(programAddr);\n      if (programAccount === null) {\n        throw new Error(\"Invalid program ID\");\n      }\n      return {\n        // Hard code deserialization.\n        programdataAddress: new PublicKey(programAccount.data.slice(4)),\n      };\n    })();\n    const spill = multisigClient.provider.wallet.publicKey;\n    const [multisigSigner] = await PublicKey.findProgramAddress(\n      [multisig.toBuffer()],\n      multisigClient.programId\n    );\n    const accs = [\n      {\n        pubkey: programAccount.programdataAddress,\n        isWritable: true,\n        isSigner: false,\n      },\n      { pubkey: programAddr, isWritable: true, isSigner: false },\n      { pubkey: bufferAddr, isWritable: true, isSigner: false },\n      { pubkey: spill, isWritable: true, isSigner: false },\n      { pubkey: SYSVAR_RENT_PUBKEY, isWritable: false, isSigner: false },\n      { pubkey: SYSVAR_CLOCK_PUBKEY, isWritable: false, isSigner: false },\n      { pubkey: multisigSigner, isWritable: false, isSigner: false },\n    ];\n    const txSize = 1000; // TODO: tighter bound.\n    const transaction = new Account();\n    const tx = await multisigClient.rpc.createTransaction(\n      BPF_LOADER_UPGRADEABLE_PID,\n      accs,\n      data,\n      {\n        accounts: {\n          multisig,\n          transaction: transaction.publicKey,\n          proposer: multisigClient.provider.wallet.publicKey,\n          rent: SYSVAR_RENT_PUBKEY,\n        },\n        signers: [transaction],\n        instructions: [\n          await multisigClient.account.transaction.createInstruction(\n            transaction,\n            // @ts-ignore\n            txSize\n          ),\n        ],\n      }\n    );\n    enqueueSnackbar(\"Transaction created\", {\n      variant: \"success\",\n      action: <ViewTransactionOnExplorerButton signature={tx} />,\n    });\n    didAddTransaction(transaction.publicKey);\n    onClose();\n  };\n\n  return (\n    <div\n      style={{\n        background: \"#f1f0f0\",\n        paddingLeft: \"24px\",\n        paddingRight: \"24px\",\n      }}\n    >\n      <TextField\n        fullWidth\n        style={{ marginTop: \"16px\" }}\n        label=\"Program ID\"\n        value={programId}\n        onChange={(e) => setProgramId(e.target.value as string)}\n      />\n      <TextField\n        style={{ marginTop: \"16px\" }}\n        fullWidth\n        label=\"New program buffer\"\n        value={buffer}\n        onChange={(e) => setBuffer(e.target.value as string)}\n      />\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"flex-end\",\n          marginTop: \"16px\",\n          paddingBottom: \"16px\",\n        }}\n      >\n        <Button onClick={() => createTransactionAccount()}>\n          Create upgrade\n        </Button>\n      </div>\n    </div>\n  );\n}\n\n// @ts-ignore\nfunction icon(tx, multisigClient) {\n  if (tx.account.programId.equals(BPF_LOADER_UPGRADEABLE_PID)) {\n    return <BuildIcon />;\n  }\n  if (tx.account.programId.equals(multisigClient.programId)) {\n    const setThresholdSighash = multisigClient.coder.sighash(\n      \"global\",\n      \"change_threshold\"\n    );\n    if (setThresholdSighash.equals(tx.account.data.slice(0, 8))) {\n      return <GavelIcon />;\n    }\n    const setOwnersSighash = multisigClient.coder.sighash(\n      \"global\",\n      \"set_owners\"\n    );\n    if (setOwnersSighash.equals(tx.account.data.slice(0, 8))) {\n      return <SupervisorAccountIcon />;\n    }\n  }\n  if (idl.IDL_TAG.equals(tx.account.data.slice(0, 8))) {\n    return <DescriptionIcon />;\n  }\n  return <ReceiptIcon />;\n}\n\n// @ts-ignore\nfunction changeThresholdData(multisigClient, threshold) {\n  return multisigClient.coder.instruction.encode(\"change_threshold\", {\n    threshold: new BN(threshold),\n  });\n}\n\n// @ts-ignore\nfunction setOwnersData(multisigClient, owners) {\n  return multisigClient.coder.instruction.encode(\"set_owners\", {\n    owners,\n  });\n}\n","import { createStore } from \"redux\";\nimport reducer from \"./reducer\";\n\nexport const store = createStore(reducer);\n","import React, { useState, useEffect, ReactElement } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport { useSnackbar } from \"notistack\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Select from \"@material-ui/core/Select\";\nimport Menu from \"@material-ui/core/Menu\";\nimport Link from \"@material-ui/core/Link\";\nimport Typography from \"@material-ui/core/Typography\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\nimport Button from \"@material-ui/core/Button\";\nimport PersonIcon from \"@material-ui/icons/Person\";\nimport BubbleChartIcon from \"@material-ui/icons/BubbleChart\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport { PublicKey } from \"@solana/web3.js\";\nimport { networks, State as StoreState, ActionType } from \"../store/reducer\";\nimport { useWallet } from \"./WalletProvider\";\n\nexport default function Header() {\n  const { wallet } = useWallet();\n  const history = useHistory();\n  const [multisigAddress, setMultisigAddress] = useState(\"\");\n  const disabled = !isValidPubkey(multisigAddress);\n  const searchFn = () => {\n    history.push(`/${multisigAddress}`);\n  };\n  return (\n    <AppBar\n      position=\"static\"\n      style={{\n        background: \"#ffffff\",\n        color: \"#272727\",\n        boxShadow: \"none\",\n        borderBottom: \"solid 1pt #ccc\",\n      }}\n    >\n      <Toolbar>\n        <div\n          style={{\n            display: \"flex\",\n            width: \"100%\",\n          }}\n        >\n          <div style={{ display: \"flex\", flex: 1 }}>\n            <SerumLogoButton />\n            <BarButton label=\"Multisig UI\" hrefClient=\"/\" />\n            <BarButton label=\"Stake\" href=\"https://marinade.finance\" />\n            <BarButton\n              label=\"Lockup\"\n              href=\"https://stake.projectserum.com/#/lockup\"\n            />\n            <div\n              style={{\n                marginLeft: \"16px\",\n                marginRight: \"16px\",\n                borderRadius: \"25px\",\n                display: \"flex\",\n                flex: 1,\n                backgroundColor: \"rgb(245 245 245)\",\n              }}\n            >\n              <input\n                style={{\n                  flex: 1,\n                  background: \"none\",\n                  padding: \"16px\",\n                  border: \"none\",\n                  outlineWidth: 0,\n                  color: \"inherit\",\n                }}\n                placeholder=\"Search a multisig address...\"\n                value={multisigAddress}\n                onChange={(e) => setMultisigAddress(e.target.value as string)}\n                onKeyPress={(e) => {\n                  if (e.key === \"Enter\") {\n                    searchFn();\n                  }\n                }}\n              />\n              <IconButton disabled={disabled} onClick={searchFn}>\n                <SearchIcon />\n              </IconButton>\n            </div>\n          </div>\n          <div\n            style={{\n              display: \"flex\",\n            }}\n          >\n            <NetworkSelector />\n            {!wallet.publicKey ? (\n              <WalletConnectButton\n                style={{\n                  display: wallet.publicKey ? \"none\" : \"\",\n                }}\n              />\n            ) : (\n              <UserSelector />\n            )}\n          </div>\n        </div>\n      </Toolbar>\n    </AppBar>\n  );\n}\n\nfunction SerumLogoButton() {\n  const history = useHistory();\n  return (\n    <div style={{ display: \"flex\" }} onClick={() => history.push(\"/\")}>\n      <Button color=\"inherit\">\n        <div\n          style={{\n            display: \"flex\",\n            flexDirection: \"column\",\n            justifyContent: \"center\",\n          }}\n        >\n          <img\n            style={{\n              display: \"block\",\n              height: \"35px\",\n            }}\n            alt=\"Logo\"\n            src=\"marinade-logo.avif\"\n          />\n        </div>\n      </Button>\n    </div>\n  );\n}\n\ntype BarButtonProps = {\n  label: string;\n  hrefClient?: string;\n  href?: string;\n};\n\nfunction BarButton(props: BarButtonProps) {\n  const history = useHistory();\n  const { label, href, hrefClient } = props;\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n      }}\n      onClick={() => hrefClient && history.push(hrefClient)}\n    >\n      <Link\n        style={{ color: \"inherit\", textDecoration: \"none\" }}\n        href={href}\n        target=\"_blank\"\n      >\n        <Button color=\"inherit\">\n          <div\n            style={{\n              display: \"flex\",\n              justifyContent: \"center\",\n              flexDirection: \"column\",\n            }}\n          >\n            <Typography style={{ fontSize: \"15px\" }}>{label}</Typography>\n          </div>\n        </Button>\n      </Link>\n    </div>\n  );\n}\n\nfunction NetworkSelector() {\n  const network = useSelector((state: StoreState) => {\n    return state.common.network;\n  });\n  const dispatch = useDispatch();\n  const [anchorEl, setAnchorEl] = useState(null);\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  return (\n    <div\n      style={{\n        marginRight: \"10px\",\n        fontSize: \"15px\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        flexDirection: \"column\",\n      }}\n    >\n      <Button\n        color=\"inherit\"\n        onClick={(e) =>\n          setAnchorEl(\n            // @ts-ignore\n            e.currentTarget\n          )\n        }\n      >\n        <BubbleChartIcon />\n        <Typography style={{ marginLeft: \"5px\", fontSize: \"15px\" }}>\n          {network.label}\n        </Typography>\n      </Button>\n      <Menu\n        anchorEl={anchorEl}\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n        style={{\n          marginLeft: \"12px\",\n          color: \"white\",\n        }}\n      >\n        {Object.keys(networks).map((n: string) => (\n          <MenuItem\n            key={n}\n            onClick={() => {\n              handleClose();\n              dispatch({\n                type: ActionType.CommonSetNetwork,\n                item: {\n                  network: networks[n],\n                  networkKey: n,\n                },\n              });\n            }}\n          >\n            <Typography>{networks[n].label}</Typography>\n          </MenuItem>\n        ))}\n      </Menu>\n    </div>\n  );\n}\n\nfunction UserSelector() {\n  const { wallet } = useWallet();\n\n  return (\n    <Select\n      displayEmpty\n      renderValue={() => {\n        return (\n          <Typography style={{ overflow: \"hidden\" }}>\n            {wallet.publicKey?.toString()}\n          </Typography>\n        );\n      }}\n      style={{\n        marginLeft: \"12px\",\n        width: \"150px\",\n      }}\n      onChange={(e) => {\n        if (e.target.value === \"disconnect\") {\n          wallet.disconnect();\n        }\n      }}\n    >\n      <MenuItem value=\"disconnect\">\n        <IconButton color=\"inherit\">\n          <ExitToAppIcon />\n          <Typography style={{ marginLeft: \"15px\" }}>Disconnect</Typography>\n        </IconButton>\n      </MenuItem>\n    </Select>\n  );\n}\n\ntype WalletConnectButtonProps = {\n  style?: any;\n};\n\nexport function WalletConnectButton(\n  props: WalletConnectButtonProps\n): ReactElement {\n  const { showDisconnect } = useSelector((state: StoreState) => {\n    return {\n      showDisconnect: state.common.isWalletConnected,\n    };\n  });\n  const dispatch = useDispatch();\n  const { wallet, multisigClient } = useWallet();\n  const { enqueueSnackbar } = useSnackbar();\n\n  // Wallet connection event listeners.\n  useEffect(() => {\n    wallet.on(\"disconnect\", () => {\n      enqueueSnackbar(\"Disconnected from wallet\", {\n        variant: \"info\",\n        autoHideDuration: 2500,\n      });\n      dispatch({\n        type: ActionType.CommonWalletDidDisconnect,\n        item: {},\n      });\n      dispatch({\n        type: ActionType.CommonTriggerShutdown,\n        item: {},\n      });\n    });\n    wallet.on(\"connect\", async () => {\n      dispatch({\n        type: ActionType.CommonWalletDidConnect,\n        item: {},\n      });\n    });\n  }, [wallet, dispatch, enqueueSnackbar, multisigClient.provider.connection]);\n\n  return showDisconnect ? (\n    <Button\n      style={props.style}\n      color=\"inherit\"\n      onClick={() => wallet.disconnect()}\n    >\n      <ExitToAppIcon />\n      <Typography style={{ marginLeft: \"5px\", fontSize: \"15px\" }}>\n        Disconnect\n      </Typography>\n    </Button>\n  ) : (\n    <Button\n      style={props.style}\n      color=\"inherit\"\n      onClick={() => wallet.connect()}\n    >\n      <PersonIcon />\n      <Typography style={{ marginLeft: \"5px\", fontSize: \"15px\" }}>\n        Connect wallet\n      </Typography>\n    </Button>\n  );\n}\n\nfunction isValidPubkey(addr: string): boolean {\n  try {\n    new PublicKey(addr);\n    return true;\n  } catch (_) {\n    return false;\n  }\n}\n","import React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Link from \"@material-ui/core/Link\";\n\nexport default function Footer() {\n  return (\n    <div\n      style={{\n        zIndex: 99,\n        position: \"fixed\",\n        width: \"100%\",\n        bottom: 0,\n        textAlign: \"center\",\n        height: \"30px\",\n        backgroundColor: \"#fbfbfb\",\n        borderTop: \"solid 1pt #ccc\",\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        paddingLeft: \"10px\",\n        paddingRight: \"10px\",\n      }}\n    >\n      <div style={{ marginLeft: \"auto\", marginRight: \"auto\", display: \"flex\" }}>\n        <FooterButton\n          href={\"https://github.com/project-serum/multisig\"}\n          label={\"Source\"}\n        />\n        <FooterButton\n          href={\"https://github.com/project-serum/awesome-serum\"}\n          label={\"Developer Resources\"}\n        />\n        <FooterButton\n          href={\"https://discord.com/channels/739225212658122886\"}\n          label={\"Discord\"}\n        />\n        <FooterButton href={\"https://t.me/ProjectSerum\"} label={\"Telegram\"} />\n        <FooterButton\n          href={\"https://github.com/project-serum\"}\n          label={\"GitHub\"}\n        />\n        <FooterButton\n          href={\"https://solanabeach.io/\"}\n          label={\"Solana Network\"}\n          isEnd={true}\n        />\n      </div>\n    </div>\n  );\n}\n\ntype FooterButtonProps = {\n  label: string;\n  href: string;\n  isEnd?: boolean;\n};\n\nfunction FooterButton(props: FooterButtonProps) {\n  const { label, href, isEnd } = props;\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        justifyContent: \"center\",\n        flexDirection: \"column\",\n        marginRight: isEnd ? \"\" : \"15px\",\n      }}\n    >\n      <Link href={href} target=\"_blank\" color=\"inherit\">\n        <Typography style={{ fontSize: \"14px\" }}>{label}</Typography>\n      </Link>\n    </div>\n  );\n}\n","import React, { useState, PropsWithChildren } from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from \"@material-ui/core/Button\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\n\ntype Props = {};\n\nexport default function Layout(props: PropsWithChildren<Props>) {\n  const [refresh, setRefresh] = useState(false);\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        minHeight: \"100vh\",\n        flexDirection: \"column\",\n        backgroundColor: \"rgb(251, 251, 251)\",\n      }}\n    >\n      <div\n        style={{\n          position: \"fixed\",\n          width: \"100%\",\n          zIndex: 99,\n        }}\n      >\n        <RiskBar />\n        <Header />\n      </div>\n      <div\n        style={{\n          width: \"100%\",\n          marginTop: \"94px\",\n          flex: 1,\n          display: \"flex\",\n          marginBottom: \"30px\", // Compensates for the fixed position footer.\n        }}\n      >\n        {window.localStorage.getItem(\"consent\") ? (\n          <div style={{ width: \"100%\" }}>{props.children}</div>\n        ) : (\n          <RiskDisclosureForm\n            onConsent={() => {\n              window.localStorage.setItem(\"consent\", \"true\");\n              setRefresh(!refresh);\n            }}\n          />\n        )}\n      </div>\n      <Footer />\n    </div>\n  );\n}\n\nfunction RiskBar() {\n  return (\n    <div\n      style={{\n        color: \"#fff\",\n        backgroundColor: \"rgb(39, 39, 39)\",\n        height: \"30px\",\n        textAlign: \"center\",\n      }}\n    >\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"center\",\n          flexDirection: \"column\",\n          height: \"100%\",\n        }}\n      >\n        <Typography style={{ fontSize: \"14px\" }}>\n          Multisig is unaudited software. Use at your own risk.\n        </Typography>\n      </div>\n    </div>\n  );\n}\n\nfunction RiskDisclosureForm({ onConsent }: { onConsent: () => void }) {\n  return (\n    <div\n      style={{\n        flex: \"1\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        flexDirection: \"column\",\n        textAlign: \"center\",\n      }}\n    >\n      <div style={{ width: \"100%\", display: \"flex\" }}>\n        <div\n          style={{ display: \"flex\", marginLeft: \"auto\", marginRight: \"auto\" }}\n        >\n          <Typography\n            style={{ marginBottom: \"16px\", maxWidth: \"1000px\" }}\n            color=\"textSecondary\"\n            variant=\"h4\"\n          >\n            No statement or warranty is provided in relation to the utility of\n            this program, the safety of its code or its suitability for your\n            use, and by using it, you agree to bear any risk associated with\n            such potential vulnerabilities, including, but not limited to the\n            potential loss of tokens.\n          </Typography>\n        </div>\n      </div>\n      <div style={{ display: \"flex\", marginLeft: \"auto\", marginRight: \"auto\" }}>\n        <Button variant=\"contained\" color=\"primary\" onClick={onConsent}>\n          I agree\n        </Button>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Provider } from \"react-redux\";\nimport { useHistory, useLocation } from \"react-router\";\nimport { HashRouter, Route } from \"react-router-dom\";\nimport { SnackbarProvider } from \"notistack\";\nimport { MuiThemeProvider } from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport { unstable_createMuiStrictModeTheme as createMuiTheme } from \"@material-ui/core/styles\";\nimport { PublicKey } from \"@solana/web3.js\";\nimport { store } from \"./store\";\nimport WalletProvider from \"./components/WalletProvider\";\nimport Layout from \"./components/Layout\";\nimport Multisig from \"./components/Multisig\";\nimport { networks } from \"./store/reducer\";\n\nfunction App() {\n  const theme = createMuiTheme({\n    palette: {\n      background: {\n        default: \"rgb(255,255,255)\",\n      },\n    },\n    typography: {\n      fontFamily: [\"Source Sans Pro\", \"sans-serif\"].join(\",\"),\n    },\n    overrides: {},\n  });\n  return (\n    <Provider store={store}>\n      <MuiThemeProvider theme={theme}>\n        <CssBaseline />\n        <SnackbarProvider maxSnack={5} autoHideDuration={8000}>\n          <WalletProvider>\n            <HashRouter basename={\"/\"}>\n              <Layout>\n                <Route exact path=\"/\" component={MultisigPage} />\n                <Route\n                  exact\n                  path=\"/:address\"\n                  component={MultisigInstancePage}\n                />\n              </Layout>\n            </HashRouter>\n          </WalletProvider>\n        </SnackbarProvider>\n      </MuiThemeProvider>\n    </Provider>\n  );\n}\n\nfunction MultisigPage() {\n  const state = store.getState()\n  const { hash } = window.location;\n  if (hash) {\n    window.location.href = `#/${state.common.network.defaultMultisig!.toString()}`;\n  }\n  const multisig = state.common.network.defaultMultisig;\n  return <Multisig multisig={multisig} />;\n}\n\nexport function MultisigInstancePage() {\n  const history = useHistory();\n  const location = useLocation();\n  const path = location.pathname.split(\"/\");\n  if (path.length !== 2) {\n    history.push(`/multisig`);\n    return <></>;\n  } else {\n    const multisig = new PublicKey(path[1]);\n    return <Multisig multisig={multisig} />;\n  }\n}\n\nexport default App;\n","import { ReportHandler } from \"web-vitals\";\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import { Idl } from \"@project-serum/anchor\";\n\nconst idl: Idl = {\n  version: \"0.0.0\",\n  name: \"multisig\",\n  instructions: [\n    {\n      name: \"createMultisig\",\n      accounts: [\n        {\n          name: \"multisig\",\n          isMut: true,\n          isSigner: false,\n        },\n        {\n          name: \"rent\",\n          isMut: false,\n          isSigner: false,\n        },\n      ],\n      args: [\n        {\n          name: \"owners\",\n          type: {\n            vec: \"publicKey\",\n          },\n        },\n        {\n          name: \"threshold\",\n          type: \"u64\",\n        },\n        {\n          name: \"nonce\",\n          type: \"u8\",\n        },\n      ],\n    },\n    {\n      name: \"createTransaction\",\n      accounts: [\n        {\n          name: \"multisig\",\n          isMut: false,\n          isSigner: false,\n        },\n        {\n          name: \"transaction\",\n          isMut: true,\n          isSigner: false,\n        },\n        {\n          name: \"proposer\",\n          isMut: false,\n          isSigner: true,\n        },\n        {\n          name: \"rent\",\n          isMut: false,\n          isSigner: false,\n        },\n      ],\n      args: [\n        {\n          name: \"pid\",\n          type: \"publicKey\",\n        },\n        {\n          name: \"accs\",\n          type: {\n            vec: {\n              defined: \"TransactionAccount\",\n            },\n          },\n        },\n        {\n          name: \"data\",\n          type: \"bytes\",\n        },\n      ],\n    },\n    {\n      name: \"approve\",\n      accounts: [\n        {\n          name: \"multisig\",\n          isMut: false,\n          isSigner: false,\n        },\n        {\n          name: \"transaction\",\n          isMut: true,\n          isSigner: false,\n        },\n        {\n          name: \"owner\",\n          isMut: false,\n          isSigner: true,\n        },\n      ],\n      args: [],\n    },\n    {\n      name: \"setOwners\",\n      accounts: [\n        {\n          name: \"multisig\",\n          isMut: true,\n          isSigner: false,\n        },\n        {\n          name: \"multisigSigner\",\n          isMut: false,\n          isSigner: true,\n        },\n      ],\n      args: [\n        {\n          name: \"owners\",\n          type: {\n            vec: \"publicKey\",\n          },\n        },\n      ],\n    },\n    {\n      name: \"changeThreshold\",\n      accounts: [\n        {\n          name: \"multisig\",\n          isMut: true,\n          isSigner: false,\n        },\n        {\n          name: \"multisigSigner\",\n          isMut: false,\n          isSigner: true,\n        },\n      ],\n      args: [\n        {\n          name: \"threshold\",\n          type: \"u64\",\n        },\n      ],\n    },\n    {\n      name: \"executeTransaction\",\n      accounts: [\n        {\n          name: \"multisig\",\n          isMut: false,\n          isSigner: false,\n        },\n        {\n          name: \"multisigSigner\",\n          isMut: false,\n          isSigner: false,\n        },\n        {\n          name: \"transaction\",\n          isMut: true,\n          isSigner: false,\n        },\n      ],\n      args: [],\n    },\n  ],\n  accounts: [\n    {\n      name: \"Multisig\",\n      type: {\n        kind: \"struct\",\n        fields: [\n          {\n            name: \"owners\",\n            type: {\n              vec: \"publicKey\",\n            },\n          },\n          {\n            name: \"threshold\",\n            type: \"u64\",\n          },\n          {\n            name: \"nonce\",\n            type: \"u8\",\n          },\n          {\n            name: \"ownerSetSeqno\",\n            type: \"u32\",\n          },\n        ],\n      },\n    },\n    {\n      name: \"Transaction\",\n      type: {\n        kind: \"struct\",\n        fields: [\n          {\n            name: \"multisig\",\n            type: \"publicKey\",\n          },\n          {\n            name: \"programId\",\n            type: \"publicKey\",\n          },\n          {\n            name: \"accounts\",\n            type: {\n              vec: {\n                defined: \"TransactionAccount\",\n              },\n            },\n          },\n          {\n            name: \"data\",\n            type: \"bytes\",\n          },\n          {\n            name: \"signers\",\n            type: {\n              vec: \"bool\",\n            },\n          },\n          {\n            name: \"didExecute\",\n            type: \"bool\",\n          },\n          {\n            name: \"ownerSetSeqno\",\n            type: \"u32\",\n          },\n        ],\n      },\n    },\n  ],\n  types: [\n    {\n      name: \"TransactionAccount\",\n      type: {\n        kind: \"struct\",\n        fields: [\n          {\n            name: \"pubkey\",\n            type: \"publicKey\",\n          },\n          {\n            name: \"isSigner\",\n            type: \"bool\",\n          },\n          {\n            name: \"isWritable\",\n            type: \"bool\",\n          },\n        ],\n      },\n    },\n  ],\n  errors: [\n    {\n      code: 100,\n      name: \"InvalidOwner\",\n      msg: \"The given owner is not part of this multisig.\",\n    },\n    {\n      code: 101,\n      name: \"NotEnoughSigners\",\n      msg: \"Not enough owners signed this transaction.\",\n    },\n    {\n      code: 102,\n      name: \"TransactionAlreadySigned\",\n      msg: \"Cannot delete a transaction that has been signed by an owner.\",\n    },\n    {\n      code: 103,\n      name: \"Overflow\",\n      msg: \"Overflow when adding.\",\n    },\n    {\n      code: 104,\n      name: \"UnableToDelete\",\n      msg: \"Cannot delete a transaction the owner did not create.\",\n    },\n    {\n      code: 105,\n      name: \"AlreadyExecuted\",\n      msg: \"The given transaction has already been executed.\",\n    },\n    {\n      code: 106,\n      name: \"InvalidThreshold\",\n      msg: \"Threshold must be less than or equal to the number of owners.\",\n    },\n  ],\n};\n\nexport default idl;\n","import React, {\n  PropsWithChildren,\n  ReactElement,\n  ReactNode,\n  useMemo,\n  useContext,\n} from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Connection, ConfirmOptions } from \"@solana/web3.js\";\n// @ts-ignore\nimport Wallet from \"@project-serum/sol-wallet-adapter\";\nimport { Provider } from \"@project-serum/anchor\";\nimport { Program } from \"@project-serum/anchor\";\nimport { State as StoreState } from \"../store/reducer\";\nimport MultisigIdl from \"../idl\";\n\nexport function useWallet(): WalletContextValues {\n  const w = useContext(WalletContext);\n  if (!w) {\n    throw new Error(\"Missing wallet context\");\n  }\n  // @ts-ignore\n  return w;\n}\n\nconst WalletContext = React.createContext<null | WalletContextValues>(null);\n\ntype WalletContextValues = {\n  wallet: Wallet;\n  multisigClient: Program;\n};\n\nexport default function WalletProvider(\n  props: PropsWithChildren<ReactNode>\n): ReactElement {\n  const { walletProvider, network } = useSelector((state: StoreState) => {\n    return {\n      walletProvider: state.common.walletProvider,\n      network: state.common.network,\n    };\n  });\n\n  const { wallet, multisigClient } = useMemo(() => {\n    const opts: ConfirmOptions = {\n      preflightCommitment: \"recent\",\n      commitment: \"recent\",\n    };\n    const connection = new Connection(network.url, opts.preflightCommitment);\n    const wallet = new Wallet(walletProvider, network.url);\n    const provider = new Provider(connection, wallet as any, opts);\n\n    const multisigClient = new Program(\n      MultisigIdl,\n      network.multisigProgramId,\n      provider\n    );\n\n    return {\n      wallet,\n      multisigClient,\n    };\n  }, [walletProvider, network]);\n\n  return (\n    <WalletContext.Provider value={{ wallet, multisigClient }}>\n      {props.children}\n    </WalletContext.Provider>\n  );\n}\n","import { PublicKey } from \"@solana/web3.js\";\n\nexport type Action = {\n  type: ActionType;\n  item: any;\n};\n\nexport enum ActionType {\n  CommonTriggerShutdown,\n  CommonDidShutdown,\n  CommonWalletDidConnect,\n  CommonWalletDidDisconnect,\n  CommonWalletSetProvider,\n  CommonSetNetwork,\n}\n\nexport default function reducer(\n  state: State = initialState,\n  action: Action\n): State {\n  let newState = {\n    common: { ...state.common },\n  };\n  switch (action.type) {\n    case ActionType.CommonWalletSetProvider:\n      newState.common.walletProvider = action.item.walletProvider;\n      return newState;\n    case ActionType.CommonWalletDidConnect:\n      newState.common.isWalletConnected = true;\n      return newState;\n    case ActionType.CommonWalletDidDisconnect:\n      newState.common.isWalletConnected = false;\n      return newState;\n    case ActionType.CommonSetNetwork:\n      if (newState.common.network.label !== action.item.network.label) {\n        newState.common.network = action.item.network;\n      }\n      return newState;\n    default:\n      return newState;\n  }\n}\n\nexport type State = {\n  common: CommonState;\n};\n\nexport type CommonState = {\n  walletProvider?: string;\n  isWalletConnected: boolean;\n  network: Network;\n};\n\nexport const networks: Networks = {\n  mainnet: {\n    // Cluster.\n    label: \"Mainnet Beta\",\n    url: \"https://api.mainnet-beta.solana.com\",\n    explorerClusterSuffix: \"\",\n    multisigProgramId: new PublicKey(\n      \"H88LfRBiJLZ7wYkHGuwkKTaijfQxexq8JvzUndu7fyjL\"\n    ),\n    multisigUpgradeAuthority: new PublicKey(\n      \"EYpNb3zURb2C9TuVexxV5kf5mwsDc5ziSJJKyKF2wJTW\"\n    ),\n    defaultMultisig: new PublicKey(\n      \"7mSA2bgzmUCi4wh16NQEfT76XMqJULni6sheZRCjcyx7\" // multisig-3 admin\n      //\"EYpNb3zURb2C9TuVexxV5kf5mwsDc5ziSJJKyKF2wJTW\" // multisig-1 upgrade multisig\n      //\"6FhtU8Q9bbuhKeRDFL7H7NeMxa1EqL5KP7HU9XRGSyRy\" // multisig-2 upgrade marinade\n      //\"7mSA2bgzmUCi4wh16NQEfT76XMqJULni6sheZRCjcyx7\" // multisig-3 admin\n      //\"9aN4drMhmd8AX3eRdYvH1gbZiPmwgGJfjvneCECF97HD\" // multisig-4 treasury\n    ),\n  },\n  testnet: {\n    // Cluster.\n    label: \"Testnet\",\n    url: \"https://api.testnet.solana.com\",\n    explorerClusterSuffix: \"devnet\",\n    multisigProgramId: new PublicKey(\n      \"H88LfRBiJLZ7wYkHGuwkKTaijfQxexq8JvzUndu7fyjL\"\n      //\"A6ZR2g7UiGobEr2YkRxd1HSbc5PoKMnyDGAKh2JkWgMg\"\n    ),\n    multisigUpgradeAuthority: new PublicKey(\n      \"EYpNb3zURb2C9TuVexxV5kf5mwsDc5ziSJJKyKF2wJTW\"\n    ),\n    defaultMultisig: new PublicKey(\n      \"7mSA2bgzmUCi4wh16NQEfT76XMqJULni6sheZRCjcyx7\" // multisig-3 admin\n      //\"EYpNb3zURb2C9TuVexxV5kf5mwsDc5ziSJJKyKF2wJTW\" // multisig-1 upgrade multisig\n      //\"6FhtU8Q9bbuhKeRDFL7H7NeMxa1EqL5KP7HU9XRGSyRy\" // multisig-2 upgrade marinade\n      //\"7mSA2bgzmUCi4wh16NQEfT76XMqJULni6sheZRCjcyx7\" // multisig-3 admin\n      //\"9aN4drMhmd8AX3eRdYvH1gbZiPmwgGJfjvneCECF97HD\" // multisig-4 treasury\n    ),\n  },\n  devnet: {\n    // Cluster.\n    label: \"Devnet\",\n    url: \"https://api.devnet.solana.com\",\n    explorerClusterSuffix: \"devnet\",\n    multisigProgramId: new PublicKey(\n      \"H88LfRBiJLZ7wYkHGuwkKTaijfQxexq8JvzUndu7fyjL\"\n    ),\n  },\n  // Fill in with your local cluster addresses.\n  localhost: {\n    // Cluster.\n    label: \"Localhost\",\n    url: \"http://localhost:8899\",\n    explorerClusterSuffix: \"localhost\",\n    multisigProgramId: new PublicKey(\n      \"H88LfRBiJLZ7wYkHGuwkKTaijfQxexq8JvzUndu7fyjL\"\n    ),\n  },\n};\n\nexport const initialState: State = {\n  common: {\n    isWalletConnected: false,\n    walletProvider: \"https://www.sollet.io\",\n    network: networks.mainnet,\n  },\n};\n\ntype Networks = { [label: string]: Network };\n\nexport type Network = {\n  // Cluster.\n  label: string;\n  url: string;\n  explorerClusterSuffix: string;\n  multisigProgramId: PublicKey;\n  defaultMultisig?: PublicKey;\n  multisigUpgradeAuthority?: PublicKey;\n};\n"],"sourceRoot":""}
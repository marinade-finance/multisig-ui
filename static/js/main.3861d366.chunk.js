(this["webpackJsonpmultisig-ui"]=this["webpackJsonpmultisig-ui"]||[]).push([[0],{115:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(199),i=n(68),c=Object(r.a)(i.b)},143:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r=n(85),i=n(24),c=Object(i.rustEnum)([Object(r.struct)([],"create"),Object(r.struct)([],"createBuffer"),Object(r.struct)([],"write"),Object(r.struct)([],"setBuffer"),Object(r.struct)([],"setAuthority")]);function a(t){var n=e.alloc(1e3),r=c.encode(t,n);return e.concat([o,n.slice(0,r)])}var o=e.from("0a69e9a778bcf440","hex").reverse()}).call(this,n(14).Buffer)},164:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return ke}));var r=n(13),i=n(18),c=n(1),a=n(19),o=n(11),s=n(5),l=n(0),u=n(27),d=n(70),b=n(203),j=n(220),f=n(286),x=n(166),h=n.n(x),p=n(168),g=n.n(p),m=n(170),O=n(167),y=n.n(O),v=n(208),w=n.n(v),S=n(211),C=n.n(S),k=n(209),T=n.n(k),K=n(106),A=n(288),P=n(206),E=n.n(P),W=n(146),B=n(147),I=n(148),D=n(39),M=n(87),R=n(169),L=n.n(R),q=n(176),N=n(221),U=n(53),F=n(144),Y=n(95),H=n.n(Y),J=n(96),V=n.n(J),z=n(145),_=n(63),G=n(105),Z=n(61),Q=n(172),X=n(173),$=n(175),ee=n(171),te=n(222),ne=n(116),re=n.n(ne),ie=n(207),ce=n.n(ie),ae=n(219),oe=n(107),se=n(86),le=n(62),ue=n(210),de=n.n(ue),be=n(40),je=n.n(be),fe=n(6),xe=n(94),he=n(143),pe=n(68),ge=n(56),me=n(289),Oe=n(214),ye=n(115),ve=n(142),we=n(2);function Se(e){return Ce.apply(this,arguments)}function Ce(){return(Ce=Object(s.a)(Object(c.a)().mark((function e(t){var n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.PublicKey.findProgramAddress([],t);case 2:return n=e.sent[0],e.next=5,fe.PublicKey.createWithSeed(n,"anchor:idl",t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(e){var t=e.multisig;return Object(we.jsxs)("div",{children:[Object(we.jsx)(j.a,{fixed:!0,maxWidth:"md",children:Object(we.jsx)("div",{style:{position:"fixed",bottom:"75px",right:"75px",display:"flex",flexDirection:"row-reverse"},children:Object(we.jsx)(Te,{})})}),t&&Object(we.jsx)(Ke,{multisig:t})]})}function Te(){var e=Object(l.useState)(!1),t=Object(o.a)(e,2),n=t[0],r=t[1];return Object(we.jsxs)("div",{style:{display:"flex"},children:[Object(we.jsx)(G.a,{style:{border:"solid 1pt #ccc",width:"60px",height:"60px",borderRadius:"30px"},onClick:function(){return r(!0)},children:Object(we.jsx)(re.a,{})}),Object(we.jsx)(Pe,{open:n,onClose:function(){return r(!1)}})]})}function Ke(e){var t=e.multisig,n=Object(ge.b)().multisigClient,r=Object(l.useState)(void 0),i=Object(o.a)(r,2),c=i[0],a=i[1],s=Object(l.useState)(null),u=Object(o.a)(s,2),d=u[0],b=u[1],x=Object(l.useState)(!1),h=Object(o.a)(x,2),p=h[0],g=h[1],O=Object(l.useState)(!1),y=Object(o.a)(O,2),v=y[0],w=y[1],S=Object(l.useState)(!1),C=Object(o.a)(S,2),k=C[0],T=C[1],K=Object(l.useState)(!1),P=Object(o.a)(K,2),W=P[0],B=P[1];return Object(l.useEffect)((function(){null===n||void 0===n||n.account.multisig.fetch(t).then((function(e){a(e)})).catch((function(e){console.error(e),a(null)}))}),[t,null===n||void 0===n?void 0:n.account]),Object(l.useEffect)((function(){null===n||void 0===n||n.account.transaction.all(t.toBuffer()).then((function(e){b(e)}))}),[null===n||void 0===n?void 0:n.account.transaction,t,W]),Object(l.useEffect)((function(){null===n||void 0===n||n.account.multisig.subscribe(t).on("change",(function(e){a(e)}))}),[n,t]),Object(we.jsxs)(j.a,{fixed:!0,maxWidth:"md",style:{marginBottom:"16px"},children:[Object(we.jsxs)("div",{children:[Object(we.jsx)(F.a,{style:{marginTop:"24px"},children:void 0===c?Object(we.jsx)("div",{style:{padding:"16px"},children:Object(we.jsx)(N.a,{style:{display:"block",marginLeft:"auto",marginRight:"auto"}})}):null===c?Object(we.jsx)(z.a,{children:Object(we.jsx)(U.a,{color:"textSecondary",style:{padding:"24px",textAlign:"center"},children:"Multisig not found"})}):Object(we.jsx)(we.Fragment,{})}),c&&Object(we.jsxs)(m.a,{children:[Object(we.jsx)(f.a,{style:{marginTop:"24px"},position:"static",color:"default",elevation:1,children:Object(we.jsxs)(A.a,{children:[Object(we.jsxs)(U.a,{variant:"h6",style:{flexGrow:1},component:"h2",children:[t.toString()," | ",c.threshold.toString()," ","of ",c.owners.length.toString()," Multisig"]}),Object(we.jsx)(q.a,{title:"Signer",arrow:!0,children:Object(we.jsx)(G.a,{onClick:function(){return g(!0)},children:Object(we.jsx)(E.a,{})})}),Object(we.jsx)(q.a,{title:"Add",arrow:!0,children:Object(we.jsx)(G.a,{onClick:function(){return w(!0)},children:Object(we.jsx)(re.a,{})})}),Object(we.jsx)(q.a,{title:"Show/Hide Executed",arrow:!0,children:Object(we.jsx)(G.a,{onClick:function(){return T(!k)},children:Object(we.jsx)(ce.a,{})})})]})}),Object(we.jsx)(ae.a,{disablePadding:!0,children:Ae(k,t,c,d)})]})]}),Object(we.jsx)(De,{multisig:t,open:v,onClose:function(){return w(!1)},didAddTransaction:function(){return B(!W)}}),c&&Object(we.jsx)(Ie,{multisig:t,multisigAccount:c,open:p,onClose:function(){return g(!1)}})]})}function Ae(e,t,n,r){if(null===r)return Object(we.jsx)("div",{style:{padding:"16px"},children:Object(we.jsx)(N.a,{style:{display:"block",marginLeft:"auto",marginRight:"auto"}})});if(0===r.length)return Object(we.jsx)(se.a,{children:Object(we.jsx)(le.a,{primary:"No transactions found"})});var i,c=[],o=Object(a.a)(r);try{for(o.s();!(i=o.n()).done;){var s=i.value,l=s.publicKey.toBase58();"AsaE7fbkmBTbq3MGKNZ15w1eUY9nikzafn7TvNn9ZvQf"!==l&&"2qito92LRcGsE4wgmxTUdeBhYoDicjEi8CAM3rPbi8cQ"!==l&&"7F5aEkm5PHDWAEe7WgT12q8Anijkx6gXQq8hATdhV7Rr"!==l&&(!e&&s.account.didExecute||c.push(Object(we.jsx)(Ee,{multisig:t,multisigAccount:n,tx:s},s.publicKey.toString())))}}catch(u){o.e(u)}finally{o.f()}return c}function Pe(e){var t=e.open,n=e.onClose,r=Object(u.e)(),a=Object(ge.b)().multisigClient,b=Object(d.b)().enqueueSnackbar,j=Object(l.useState)(2),f=Object(o.a)(j,2),x=f[0],h=f[1],p=fe.PublicKey.default.toString(),g=Object(l.useState)([p]),m=Object(o.a)(g,2),O=m[0],y=m[1],v=function(){n(),h(2),y([p,p])},w=Object(l.useState)(10),S=Object(o.a)(w,2),C=S[0],k=S[1],T=C<O.length,K=function(){var e=Object(s.a)(Object(c.a)().mark((function e(){var t,n,i,s,l,u,d;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==a&&void 0!==a&&a.provider.wallet.publicKey){e.next=2;break}throw Error("Wallet not connected");case 2:return b("Creating multisig",{variant:"info"}),t=new fe.Account,21,64,n=21+(32*C+8)+64,e.next=10,fe.PublicKey.findProgramAddress([t.publicKey.toBuffer()],a.programId);case 10:return i=e.sent,s=Object(o.a)(i,2),l=s[1],u=O.map((function(e){return new fe.PublicKey(e)})),e.t0=a.rpc,e.t1=u,e.t2=new je.a(x),e.t3=l,e.t4={multisig:t.publicKey,rent:fe.SYSVAR_RENT_PUBKEY},e.t5=[t],e.next=22,a.account.multisig.createInstruction(t,n);case 22:return e.t6=e.sent,e.t7=[e.t6],e.t8={accounts:e.t4,signers:e.t5,instructions:e.t7},e.next=27,e.t0.createMultisig.call(e.t0,e.t1,e.t2,e.t3,e.t8);case 27:d=e.sent,b("Multisig created: ".concat(t.publicKey.toString()),{variant:"success",action:Object(we.jsx)(xe.a,{signature:d})}),v(),r.push("/".concat(t.publicKey.toString()));case 31:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(we.jsxs)($.a,{fullWidth:!0,open:t,onClose:v,maxWidth:"md",children:[Object(we.jsx)(ee.a,{children:Object(we.jsx)(U.a,{variant:"h4",component:"h2",children:"New Multisig"})}),Object(we.jsxs)(Q.a,{children:[Object(we.jsx)(_.a,{fullWidth:!0,label:"Threshold",value:x,type:"number",onChange:function(e){return h(parseInt(e.target.value))}}),Object(we.jsx)(_.a,{fullWidth:!0,label:"Max Number of Participants (cannot grow the owner set past this)",value:C,type:"number",onChange:function(e){return k(parseInt(e.target.value))}}),O.map((function(e,t){return Object(we.jsx)(_.a,{fullWidth:!0,label:"Participant",value:e,onChange:function(e){var n=Object(i.a)(O);n[t]=e.target.value,y(n)}},e)})),Object(we.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:Object(we.jsx)(G.a,{onClick:function(){var e=Object(i.a)(O);e.push(new fe.PublicKey("11111111111111111111111111111111").toString()),y(e)},children:Object(we.jsx)(re.a,{})})})]}),Object(we.jsxs)(te.a,{children:[Object(we.jsx)(Z.a,{onClick:v,children:"Cancel"}),Object(we.jsx)(Z.a,{disabled:T,variant:"contained",type:"submit",color:"primary",onClick:function(){return K().catch((function(e){var t=e?e.toString():"";b("Error creating multisig: ".concat(t),{variant:"error"})}))},children:"Create"})]})]})}function Ee(e){var t=e.multisig,n=e.multisigAccount,i=e.tx,a=Object(d.b)().enqueueSnackbar,u=Object(ge.b)().multisigClient,j=Object(ve.b)().sendTransaction,f=Object(l.useState)(!1),x=Object(o.a)(f,2),h=x[0],p=x[1],g=Object(l.useState)(i.account),m=Object(o.a)(g,2),O=m[0],y=m[1];Object(l.useEffect)((function(){null===u||void 0===u||u.account.transaction.subscribe(i.publicKey).on("change",(function(e){y(e)}))}),[u,t,i.publicKey]);var v=Object(b.a)(O.data),S="";if("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"===O.programId.toString()&&3===O.data[0]){var C=O.data.slice(1,9),k=new je.a(C,"le").fromTwos(64),A=O.accounts[0].pubkey.toBase58(),P="9vKwu77KUVgmAYrB96PPMHrZtnvJXs9aKzFxfa71gDTX",E=A===P?" USDC":"";S="Transfer "+function(e,t){return function(e){var t=e.indexOf(".");for(-1===t&&(t=e.length),t-=4;t>=0;)e=e.slice(0,t+1)+","+e.slice(t+1),t-=3;return e}(function(e){var t=e.indexOf(".");if(t<=0)return e;for(var n=e.length-t-1;e.endsWith("0")&&n-- >4;)e=e.slice(0,-1);return e.endsWith("00")&&(e=e.slice(0,-2)),e.endsWith(".00")&&(e=e.slice(0,-3)),e}(function(e,t){var n=e.toString().padStart(t+1,"0"),r=n.length;return n.slice(0,r-t)+"."+n.slice(-t)}(e,t)))}(k,A===P?6:9)+E+" from "+A+" to "+O.accounts[1].pubkey.toBase58()}var R=[{field:"Decoded",value:S},{field:"Program ID",value:O.programId.toString()},{field:"Did execute",value:O.didExecute.toString()},{field:"Instruction data",value:Object(we.jsx)("code",{style:{wordBreak:"break-word",width:"370px",background:"black",color:"#ffffff",float:"right",textAlign:"left"},children:v})},{field:"Multisig",value:O.multisig.toString()},{field:"Transaction account",value:i.publicKey.toString()},{field:"Owner set seqno",value:O.ownerSetSeqno.toString()}],L=n.owners.map((function(e,t){return{field:e.toString(),value:O.signers[t]?Object(we.jsx)(w.a,{}):Object(we.jsx)(T.a,{})}})),q=function(){var e=Object(s.a)(Object(c.a)().mark((function e(){var n,r,o,s,l,d,b,f;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==u&&void 0!==u&&u.provider.wallet.publicKey){e.next=2;break}throw Error("Wallet not connected");case 2:return a("Approving transaction",{variant:"info"}),n=u.instruction.approve({accounts:{multisig:t,transaction:i.publicKey,owner:u.provider.wallet.publicKey}}),(r=new fe.Transaction).add(n),e.next=8,u.provider.connection.getLatestBlockhashAndContext();case 8:return o=e.sent,s=o.context.slot,l=o.value,d=l.blockhash,b=l.lastValidBlockHeight,e.next=15,j(r,u.provider.connection,{minContextSlot:s});case 15:return f=e.sent,e.next=18,u.provider.connection.confirmTransaction({blockhash:d,lastValidBlockHeight:b,signature:f});case 18:a("Transaction approved",{variant:"success"});case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(s.a)(Object(c.a)().mark((function e(){var n,s,l,d,b,f,x,h,p,g,m;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a("Executing transaction",{variant:"info"}),null!==u&&void 0!==u&&u.provider.wallet.publicKey){e.next=3;break}throw Error("Wallet not connected");case 3:return e.next=5,fe.PublicKey.findProgramAddress([t.toBuffer()],u.programId);case 5:return n=e.sent,s=Object(o.a)(n,1),l=s[0],d=u.instruction.executeTransaction({accounts:{multisig:t,multisigSigner:l,transaction:i.publicKey},remainingAccounts:O.accounts.map((function(e){return e.pubkey.equals(l)?Object(r.a)(Object(r.a)({},e),{},{isSigner:!1}):e})).concat({pubkey:O.programId,isWritable:!1,isSigner:!1})}),(b=new fe.Transaction).add(d),e.next=13,u.provider.connection.getLatestBlockhashAndContext();case 13:return f=e.sent,x=f.context.slot,h=f.value,p=h.blockhash,g=h.lastValidBlockHeight,e.next=20,j(b,u.provider.connection,{minContextSlot:x});case 20:return m=e.sent,e.next=23,u.provider.connection.confirmTransaction({blockhash:p,lastValidBlockHeight:g,signature:m});case 23:a("Transaction executed",{variant:"success"});case 24:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(we.jsxs)(we.Fragment,{children:[Object(we.jsxs)(se.a,{button:!0,onClick:function(){return p(!h)},children:[Object(we.jsx)(oe.a,{children:ze(i,u)}),We(i,u),O.didExecute&&Object(we.jsx)(de.a,{style:{marginRight:"16px"}}),h?Object(we.jsx)(H.a,{}):Object(we.jsx)(V.a,{})]}),Object(we.jsx)(K.a,{in:h,timeout:"auto",unmountOnExit:!0,children:Object(we.jsxs)("div",{style:{background:"#ececec",padding:"10px"},children:[Object(we.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end"},children:[Object(we.jsx)(Z.a,{style:{marginRight:"10px"},variant:"contained",color:"primary",onClick:function(){return q().catch((function(e){var t="";e&&(t=e.toString()),a("Unable to approve transaction: ".concat(t),{variant:"error"})}))},children:"Approve"}),Object(we.jsx)(Z.a,{variant:"contained",color:"secondary",onClick:function(){return N().catch((function(e){var t="";e&&(t=e.toString()+"\n"+e.logs?e.logs.join("\n"):""),a("Unable to execute transaction: ".concat(t),{variant:"error"})}))},children:"Execute"})]}),Object(we.jsx)(F.a,{style:{marginTop:"16px"},children:Object(we.jsx)(z.a,{children:Object(we.jsxs)(W.a,{children:[Object(we.jsx)(B.a,{children:Object(we.jsxs)(M.a,{children:[Object(we.jsx)(D.a,{children:"Transaction Field"}),Object(we.jsx)(D.a,{align:"right",children:"Value"})]})}),Object(we.jsx)(I.a,{children:R.map((function(e){return Object(we.jsxs)(M.a,{children:[Object(we.jsx)(D.a,{children:e.field}),Object(we.jsx)(D.a,{align:"right",children:e.value})]})}))})]})})}),Object(we.jsx)(F.a,{style:{marginTop:"16px"},children:Object(we.jsxs)(z.a,{children:[Object(we.jsxs)(W.a,{children:[Object(we.jsx)(B.a,{children:Object(we.jsxs)(M.a,{children:[Object(we.jsx)(D.a,{children:"Multisig Owner"}),Object(we.jsx)(D.a,{align:"right",children:"Did Sign"})]})}),Object(we.jsx)(I.a,{children:O.ownerSetSeqno===n.ownerSetSeqno&&L.map((function(e){return Object(we.jsxs)(M.a,{children:[Object(we.jsx)(D.a,{children:e.field}),Object(we.jsx)(D.a,{align:"right",children:e.value})]})}))})]}),O.ownerSetSeqno!==n.ownerSetSeqno&&Object(we.jsx)("div",{style:{marginTop:"16px"},children:Object(we.jsx)(U.a,{color:"textSecondary",style:{textAlign:"center"},children:"The owner set has changed since this transaction was created"})})]})}),Object(we.jsx)(F.a,{style:{marginTop:"16px"},children:Object(we.jsx)(z.a,{children:Object(we.jsx)(Be,{accounts:O.accounts})})})]})})]})}function We(t,n){if(t.account.programId.equals(Je)&&t.account.data.equals(e.from([3,0,0,0])))return Object(we.jsx)(le.a,{primary:"Program upgrade",secondary:t.publicKey.toString()});if(t.account.programId.equals(n.programId)){if(n.coder.sighash("global","change_threshold").equals(t.account.data.slice(0,8)))return Object(we.jsx)(le.a,{primary:"Set threshold",secondary:t.publicKey.toString()});if(n.coder.sighash("global","set_owners").equals(t.account.data.slice(0,8)))return Object(we.jsx)(le.a,{primary:"Set owners",secondary:t.publicKey.toString()})}return he.a.equals(t.account.data.slice(0,8))?Object(we.jsx)(le.a,{primary:"Upgrade IDL",secondary:t.publicKey.toString()}):Object(we.jsx)(le.a,{primary:t.publicKey.toString()})}function Be(e){var t=e.accounts;return Object(we.jsxs)(W.a,{children:[Object(we.jsx)(B.a,{children:Object(we.jsxs)(M.a,{children:[Object(we.jsx)(D.a,{children:"Account"}),Object(we.jsx)(D.a,{align:"right",children:"Writable"}),Object(we.jsx)(D.a,{align:"right",children:"Signer"})]})}),Object(we.jsx)(I.a,{children:t.map((function(e){return Object(we.jsxs)(M.a,{children:[Object(we.jsx)(D.a,{children:e.pubkey.toString()}),Object(we.jsx)(D.a,{align:"right",children:e.isWritable.toString()}),Object(we.jsx)(D.a,{align:"right",children:e.isSigner.toString()})]})}))})]})}function Ie(e){var t=e.multisig,n=e.multisigAccount,r=e.open,i=e.onClose,c=Object(ge.b)().multisigClient,a=Object(l.useState)(null),s=Object(o.a)(a,2),u=s[0],d=s[1];return Object(l.useEffect)((function(){c&&fe.PublicKey.findProgramAddress([t.toBuffer()],c.programId).then((function(e){return d(e[0].toString())}))}),[t,c,d]),Object(we.jsxs)($.a,{open:r,fullWidth:!0,onClose:i,maxWidth:"md",children:[Object(we.jsx)(ee.a,{children:Object(we.jsx)(U.a,{variant:"h4",component:"h2",children:"Multisig Info"})}),Object(we.jsxs)(Q.a,{style:{paddingBottom:"16px"},children:[(null===t||void 0===t?void 0:t.equals(pe.c.mainnet.multisigUpgradeAuthority))&&Object(we.jsx)(X.a,{children:"This multisig is the upgrade authority for the multisig program itself."}),Object(we.jsxs)(X.a,{children:[Object(we.jsx)("b",{children:"Program derived address"}),": ",u,". This is the address one should use as the authority for data governed by the multisig."]}),Object(we.jsxs)(W.a,{children:[Object(we.jsx)(B.a,{children:Object(we.jsx)(M.a,{children:Object(we.jsx)(D.a,{children:"Owners"})})}),Object(we.jsx)(I.a,{children:n.owners.map((function(e){return Object(we.jsx)(M.a,{children:Object(we.jsx)(D.a,{children:e.toString()})})}))})]})]}),Object(we.jsx)(te.a,{children:Object(we.jsx)(Z.a,{onClick:i,children:"Close"})})]})}function De(e){var t=e.multisig,n=e.open,r=e.onClose,i=e.didAddTransaction;return Object(we.jsxs)($.a,{open:n,fullWidth:!0,onClose:r,maxWidth:"md",children:[Object(we.jsx)(ee.a,{children:Object(we.jsx)(U.a,{variant:"h4",component:"h2",children:"New Transaction"})}),Object(we.jsxs)(Q.a,{style:{paddingBottom:"16px"},children:[Object(we.jsx)(X.a,{children:"Create a new transaction to be signed by the multisig. This transaction will not execute until enough owners have signed the transaction."}),Object(we.jsxs)(ae.a,{disablePadding:!0,children:[Object(we.jsx)(Ne,{didAddTransaction:i,multisig:t,onClose:r}),Object(we.jsx)(He,{didAddTransaction:i,multisig:t,onClose:r}),Object(we.jsx)(Fe,{didAddTransaction:i,multisig:t,onClose:r}),Object(we.jsx)(Le,{didAddTransaction:i,multisig:t,onClose:r}),Object(we.jsx)(Me,{didAddTransaction:i,multisig:t,onClose:r})]})]})]})}function Me(e){var t=e.multisig,n=e.onClose,r=e.didAddTransaction,i=Object(l.useState)(!1),c=Object(o.a)(i,2),a=c[0],s=c[1];return Object(we.jsxs)(we.Fragment,{children:[Object(we.jsxs)(se.a,{button:!0,onClick:function(){return s((function(e){return!e}))},children:[Object(we.jsx)(oe.a,{children:Object(we.jsx)(h.a,{})}),Object(we.jsx)(le.a,{primary:"Change threshold"}),a?Object(we.jsx)(H.a,{}):Object(we.jsx)(V.a,{})]}),Object(we.jsx)(K.a,{in:a,timeout:"auto",unmountOnExit:!0,children:Object(we.jsx)(Re,{didAddTransaction:r,multisig:t,onClose:n})})]})}function Re(e){var t=e.multisig,n=e.onClose,r=e.didAddTransaction,i=Object(l.useState)(2),a=Object(o.a)(i,2),u=a[0],b=a[1],j=Object(ge.b)().multisigClient,f=Object(d.b)().enqueueSnackbar,x=function(){var e=Object(s.a)(Object(c.a)().mark((function e(){var i,a,s,l,d,b,x;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==j&&void 0!==j&&j.provider.wallet.publicKey){e.next=2;break}throw Error("Wallet not connected");case 2:return f("Creating change threshold transaction",{variant:"info"}),i=_e(j,u),e.next=6,fe.PublicKey.findProgramAddress([t.toBuffer()],j.programId);case 6:return a=e.sent,s=Object(o.a)(a,1),l=s[0],d=[{pubkey:t,isWritable:!0,isSigner:!1},{pubkey:l,isWritable:!1,isSigner:!0}],b=new fe.Account,1e3,e.t0=j.rpc,e.t1=j.programId,e.t2=d,e.t3=i,e.t4={multisig:t,transaction:b.publicKey,proposer:j.provider.wallet.publicKey,rent:fe.SYSVAR_RENT_PUBKEY},e.t5=[b],e.next=20,j.account.transaction.createInstruction(b,1e3);case 20:return e.t6=e.sent,e.t7=[e.t6],e.t8={accounts:e.t4,signers:e.t5,instructions:e.t7},e.next=25,e.t0.createTransaction.call(e.t0,e.t1,e.t2,e.t3,e.t8);case 25:x=e.sent,f("Transaction created",{variant:"success",action:Object(we.jsx)(xe.a,{signature:x})}),r(b.publicKey),n();case 29:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(we.jsxs)("div",{style:{background:"#f1f0f0",paddingLeft:"24px",paddingRight:"24px"},children:[Object(we.jsx)(_.a,{fullWidth:!0,style:{marginTop:"16px"},label:"Threshold",value:u,type:"number",onChange:function(e){b(e.target.value)}}),Object(we.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:Object(we.jsx)(Z.a,{onClick:function(){return x()},children:"Change Threshold"})})]})}function Le(e){var t=e.multisig,n=e.onClose,r=e.didAddTransaction,i=Object(l.useState)(!1),c=Object(o.a)(i,2),a=c[0],s=c[1];return Object(we.jsxs)(we.Fragment,{children:[Object(we.jsxs)(se.a,{button:!0,onClick:function(){return s((function(e){return!e}))},children:[Object(we.jsx)(oe.a,{children:Object(we.jsx)(y.a,{})}),Object(we.jsx)(le.a,{primary:"Set owners"}),a?Object(we.jsx)(H.a,{}):Object(we.jsx)(V.a,{})]}),Object(we.jsx)(K.a,{in:a,timeout:"auto",unmountOnExit:!0,children:Object(we.jsx)(qe,{didAddTransaction:r,multisig:t,onClose:n})})]})}function qe(e){var t=e.multisig,n=e.onClose,r=e.didAddTransaction,a=Object(ge.b)().multisigClient,u=fe.PublicKey.default.toString(),b=Object(l.useState)([u]),j=Object(o.a)(b,2),f=j[0],x=j[1],h=Object(d.b)().enqueueSnackbar,p=function(){var e=Object(s.a)(Object(c.a)().mark((function e(){var i,s,l,u,d,b,j,x;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==a&&void 0!==a&&a.provider.wallet.publicKey){e.next=2;break}throw Error("Wallet not connected");case 2:return h("Creating setOwners transaction",{variant:"info"}),i=f.map((function(e){return new fe.PublicKey(e)})),s=Ge(a,i),e.next=7,fe.PublicKey.findProgramAddress([t.toBuffer()],a.programId);case 7:return l=e.sent,u=Object(o.a)(l,1),d=u[0],b=[{pubkey:t,isWritable:!0,isSigner:!1},{pubkey:d,isWritable:!1,isSigner:!0}],j=new fe.Account,5e3,e.t0=a.rpc,e.t1=a.programId,e.t2=b,e.t3=s,e.t4={multisig:t,transaction:j.publicKey,proposer:a.provider.wallet.publicKey,rent:fe.SYSVAR_RENT_PUBKEY},e.t5=[j],e.next=21,a.account.transaction.createInstruction(j,5e3);case 21:return e.t6=e.sent,e.t7=[e.t6],e.t8={accounts:e.t4,signers:e.t5,instructions:e.t7},e.next=26,e.t0.createTransaction.call(e.t0,e.t1,e.t2,e.t3,e.t8);case 26:x=e.sent,h("Transaction created",{variant:"success",action:Object(we.jsx)(xe.a,{signature:x})}),r(j.publicKey),n();case 30:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(we.jsxs)("div",{style:{background:"#f1f0f0",paddingLeft:"24px",paddingRight:"24px"},children:[f.map((function(e,t){return Object(we.jsx)(_.a,{fullWidth:!0,style:{marginTop:"16px"},label:"Participant",value:e,onChange:function(e){var n=Object(i.a)(f);n[t]=e.target.value,x(n)}})})),Object(we.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:Object(we.jsx)(G.a,{onClick:function(){var e=Object(i.a)(f);e.push(new fe.PublicKey("11111111111111111111111111111111").toString()),x(e)},children:Object(we.jsx)(re.a,{})})}),Object(we.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"16px",paddingBottom:"16px"},children:Object(we.jsx)(Z.a,{onClick:function(){return p()},children:"Set Owners"})})]})}function Ne(e){var t=e.multisig,n=e.onClose,r=e.didAddTransaction,i=Object(l.useState)(!1),c=Object(o.a)(i,2),a=c[0],s=c[1];return Object(we.jsxs)(we.Fragment,{children:[Object(we.jsxs)(se.a,{button:!0,onClick:function(){return s((function(e){return!e}))},children:[Object(we.jsx)(oe.a,{children:Object(we.jsx)(me.a,{})}),Object(we.jsx)(le.a,{primary:"Transfer MNDE"}),a?Object(we.jsx)(H.a,{}):Object(we.jsx)(V.a,{})]}),Object(we.jsx)(K.a,{in:a,timeout:"auto",unmountOnExit:!0,children:Object(we.jsx)(Ue,{didAddTransaction:r,multisig:t,onClose:n})})]})}function Ue(e){var t=e.multisig,n=e.onClose,r=e.didAddTransaction,i=Object(l.useState)(null),a=Object(o.a)(i,2),u=a[0],b=a[1],j=Object(l.useState)(null),f=Object(o.a)(j,2),x=f[0],h=f[1],p=Object(ve.b)().sendTransaction,g=ye.a.getState(),m=Object(ge.b)().multisigClient,O=Object(d.b)().enqueueSnackbar,y=function(){var e=Object(s.a)(Object(c.a)().mark((function e(){var i,a,s,l,d,b,j,f,h,y,v,w,S;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null!==m&&void 0!==m&&m.provider.wallet.publicKey){e.next=3;break}throw Error("Wallet not connected");case 3:return O("Creating Transfer MNDE transaction",{variant:"info"}),e.next=6,fe.PublicKey.findProgramAddress([t.toBuffer()],m.programId);case 6:if(i=e.sent,a=Object(o.a)(i,1),s=a[0],u){e.next=11;break}throw Error("destinationAccount is nothing");case 11:if(x&&!(x<=0)){e.next=13;break}throw Error("amount must be >=0");case 13:return e.next=15,Object(Oe.a)(g.common.network.url,m,s,u,x);case 15:return l=e.sent,d=new fe.Account,207,e.t0=m.instruction,e.t1=l.programId,e.t2=l.keys,e.t3=l.data,e.t4={multisig:t,transaction:d.publicKey,proposer:m.provider.wallet.publicKey,rent:fe.SYSVAR_RENT_PUBKEY},e.t5=[d],e.next=26,m.account.transaction.createInstruction(d,207);case 26:return e.t6=e.sent,e.t7=[e.t6],e.t8={accounts:e.t4,signers:e.t5,instructions:e.t7},e.next=31,e.t0.createTransaction.call(e.t0,e.t1,e.t2,e.t3,e.t8);case 31:return b=e.sent,(j=new fe.Transaction).add(b),e.next=36,m.provider.connection.getLatestBlockhashAndContext();case 36:return f=e.sent,h=f.context.slot,y=f.value,v=y.blockhash,w=y.lastValidBlockHeight,e.next=43,p(j,m.provider.connection,{minContextSlot:h});case 43:return S=e.sent,e.next=46,m.provider.connection.confirmTransaction({blockhash:v,lastValidBlockHeight:w,signature:S});case 46:console.log(u,x),O("Transaction created",{variant:"success",action:Object(we.jsx)(xe.a,{signature:S})}),r(d.publicKey),n(),e.next=55;break;case 52:e.prev=52,e.t9=e.catch(0),O("Error",{variant:"error",action:e.t9.message+"<br>"+e.t9.logs?e.t9.logs.join("<br>"):""});case 55:case"end":return e.stop()}}),e,null,[[0,52]])})));return function(){return e.apply(this,arguments)}}();return Object(we.jsxs)("div",{style:{background:"#f1f0f0",paddingLeft:"24px",paddingRight:"24px"},children:[Object(we.jsx)(_.a,{fullWidth:!0,style:{marginTop:"16px"},label:"Destination account",value:u,onChange:function(e){return b(e.target.value)}}),Object(we.jsx)(_.a,{style:{marginTop:"16px"},fullWidth:!0,label:"Amount to transfer",value:x,type:"number",onChange:function(e){return h(Number(e.target.value))}}),Object(we.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"16px",paddingBottom:"16px"},children:Object(we.jsx)(Z.a,{onClick:function(){return y()},children:"Propose MNDE Transfer"})})]})}function Fe(e){var t=e.multisig,n=e.onClose,r=e.didAddTransaction,i=Object(l.useState)(!1),c=Object(o.a)(i,2),a=c[0],s=c[1];return Object(we.jsxs)(we.Fragment,{children:[Object(we.jsxs)(se.a,{button:!0,onClick:function(){return s((function(e){return!e}))},children:[Object(we.jsx)(oe.a,{children:Object(we.jsx)(g.a,{})}),Object(we.jsx)(le.a,{primary:"Upgrade IDL"}),a?Object(we.jsx)(H.a,{}):Object(we.jsx)(V.a,{})]}),Object(we.jsx)(K.a,{in:a,timeout:"auto",unmountOnExit:!0,children:Object(we.jsx)(Ye,{didAddTransaction:r,multisig:t,onClose:n})})]})}function Ye(e){var t=e.multisig,n=e.onClose,r=e.didAddTransaction,i=Object(l.useState)(null),a=Object(o.a)(i,2),u=a[0],b=a[1],j=Object(l.useState)(null),f=Object(o.a)(j,2),x=f[0],h=f[1],p=Object(ge.b)().multisigClient,g=Object(d.b)().enqueueSnackbar,m=function(){var e=Object(s.a)(Object(c.a)().mark((function e(){var i,a,s,l,d,b,j,f,h,m;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==p&&void 0!==p&&p.provider.wallet.publicKey){e.next=2;break}throw Error("Wallet not connected");case 2:return g("Creating transaction",{variant:"info"}),i=new fe.PublicKey(u),a=new fe.PublicKey(x),e.next=7,Se(i);case 7:return s=e.sent,e.next=10,fe.PublicKey.findProgramAddress([t.toBuffer()],p.programId);case 10:return l=e.sent,d=Object(o.a)(l,1),b=d[0],j=he.b({setBuffer:{}}),f=[{pubkey:a,isWritable:!0,isSigner:!1},{pubkey:s,isWritable:!0,isSigner:!1},{pubkey:b,isWritable:!0,isSigner:!1}],1e3,h=new fe.Account,e.t0=p.rpc,e.t1=i,e.t2=f,e.t3=j,e.t4={multisig:t,transaction:h.publicKey,proposer:p.provider.wallet.publicKey,rent:fe.SYSVAR_RENT_PUBKEY},e.t5=[h],e.next=25,p.account.transaction.createInstruction(h,1e3);case 25:return e.t6=e.sent,e.t7=[e.t6],e.t8={accounts:e.t4,signers:e.t5,instructions:e.t7},e.next=30,e.t0.createTransaction.call(e.t0,e.t1,e.t2,e.t3,e.t8);case 30:m=e.sent,g("Transaction created",{variant:"success",action:Object(we.jsx)(xe.a,{signature:m})}),r(h.publicKey),n();case 34:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(we.jsxs)("div",{style:{background:"#f1f0f0",paddingLeft:"24px",paddingRight:"24px"},children:[Object(we.jsx)(_.a,{fullWidth:!0,style:{marginTop:"16px"},label:"Program ID",value:u,onChange:function(e){return b(e.target.value)}}),Object(we.jsx)(_.a,{style:{marginTop:"16px"},fullWidth:!0,label:"New IDL buffer",value:x,onChange:function(e){return h(e.target.value)}}),Object(we.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"16px",paddingBottom:"16px"},children:Object(we.jsx)(Z.a,{onClick:function(){return m()},children:"Create upgrade"})})]})}function He(e){var t=e.multisig,n=e.onClose,r=e.didAddTransaction,i=Object(l.useState)(!1),c=Object(o.a)(i,2),a=c[0],s=c[1];return Object(we.jsxs)(we.Fragment,{children:[Object(we.jsxs)(se.a,{button:!0,onClick:function(){return s((function(e){return!e}))},children:[Object(we.jsx)(oe.a,{children:Object(we.jsx)(L.a,{})}),Object(we.jsx)(le.a,{primary:"Upgrade program"}),a?Object(we.jsx)(H.a,{}):Object(we.jsx)(V.a,{})]}),Object(we.jsx)(K.a,{in:a,timeout:"auto",unmountOnExit:!0,children:Object(we.jsx)(Ve,{didAddTransaction:r,multisig:t,onClose:n})})]})}var Je=new fe.PublicKey("BPFLoaderUpgradeab1e11111111111111111111111");function Ve(t){var n=t.multisig,r=t.onClose,i=t.didAddTransaction,a=Object(l.useState)(null),u=Object(o.a)(a,2),b=u[0],j=u[1],f=Object(l.useState)(null),x=Object(o.a)(f,2),h=x[0],p=x[1],g=Object(ge.b)().multisigClient,m=Object(d.b)().enqueueSnackbar,O=function(){var t=Object(s.a)(Object(c.a)().mark((function t(){var a,l,u,d,j,f,x,p,O,y,v;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==g&&void 0!==g&&g.provider.wallet.publicKey){t.next=2;break}throw Error("Wallet not connected");case 2:return m("Creating transaction",{variant:"info"}),a=new fe.PublicKey(b),l=new fe.PublicKey(h),u=e.from([3,0,0,0]),t.next=8,Object(s.a)(Object(c.a)().mark((function e(){var t;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.provider.connection.getAccountInfo(a);case 2:if(null!==(t=e.sent)){e.next=5;break}throw new Error("Invalid program ID");case 5:return e.abrupt("return",{programdataAddress:new fe.PublicKey(t.data.slice(4))});case 6:case"end":return e.stop()}}),e)})))();case 8:return d=t.sent,j=g.provider.wallet.publicKey,t.next=12,fe.PublicKey.findProgramAddress([n.toBuffer()],g.programId);case 12:return f=t.sent,x=Object(o.a)(f,1),p=x[0],O=[{pubkey:d.programdataAddress,isWritable:!0,isSigner:!1},{pubkey:a,isWritable:!0,isSigner:!1},{pubkey:l,isWritable:!0,isSigner:!1},{pubkey:j,isWritable:!0,isSigner:!1},{pubkey:fe.SYSVAR_RENT_PUBKEY,isWritable:!1,isSigner:!1},{pubkey:fe.SYSVAR_CLOCK_PUBKEY,isWritable:!1,isSigner:!1},{pubkey:p,isWritable:!1,isSigner:!1}],1e3,y=new fe.Account,t.t0=g.rpc,t.t1=Je,t.t2=O,t.t3=u,t.t4={multisig:n,transaction:y.publicKey,proposer:g.provider.wallet.publicKey,rent:fe.SYSVAR_RENT_PUBKEY},t.t5=[y],t.next=26,g.account.transaction.createInstruction(y,1e3);case 26:return t.t6=t.sent,t.t7=[t.t6],t.t8={accounts:t.t4,signers:t.t5,instructions:t.t7},t.next=31,t.t0.createTransaction.call(t.t0,t.t1,t.t2,t.t3,t.t8);case 31:v=t.sent,m("Transaction created",{variant:"success",action:Object(we.jsx)(xe.a,{signature:v})}),i(y.publicKey),r();case 35:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(we.jsxs)("div",{style:{background:"#f1f0f0",paddingLeft:"24px",paddingRight:"24px"},children:[Object(we.jsx)(_.a,{fullWidth:!0,style:{marginTop:"16px"},label:"Program ID",value:b,onChange:function(e){return j(e.target.value)}}),Object(we.jsx)(_.a,{style:{marginTop:"16px"},fullWidth:!0,label:"New program buffer",value:h,onChange:function(e){return p(e.target.value)}}),Object(we.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"16px",paddingBottom:"16px"},children:Object(we.jsx)(Z.a,{onClick:function(){return O()},children:"Create upgrade"})})]})}function ze(e,t){if(e.account.programId.equals(Je))return Object(we.jsx)(L.a,{});if(e.account.programId.equals(t.programId)){if(t.coder.sighash("global","change_threshold").equals(e.account.data.slice(0,8)))return Object(we.jsx)(h.a,{});if(t.coder.sighash("global","set_owners").equals(e.account.data.slice(0,8)))return Object(we.jsx)(y.a,{})}return he.a.equals(e.account.data.slice(0,8))?Object(we.jsx)(g.a,{}):Object(we.jsx)(C.a,{})}function _e(e,t){return e.coder.instruction.encode("change_threshold",{threshold:new je.a(t)})}function Ge(e,t){return e.coder.instruction.encode("set_owners",{owners:t})}}).call(this,n(14).Buffer)},194:function(e,t){},198:function(e,t){},214:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(1),i=n(5),c=n(46),a=n(69);new c.f.PublicKey("11111111111111111111111111111111"),new c.f.PublicKey("Stake11111111111111111111111111111111111111"),new c.a("ffffffffffffffff",16);function o(e,t){return new a.c(e.connection,t,a.b,c.f.Keypair.generate())}function s(e,t){return l.apply(this,arguments)}function l(){return(l=Object(i.a)(Object(r.a)().mark((function e(t,n){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c.e.token.associatedAddress({mint:t,owner:n}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e,t){return d.apply(this,arguments)}function d(){return(d=Object(i.a)(Object(r.a)().mark((function e(t,n){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.getAccountInfo(n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,t,n,r){return j.apply(this,arguments)}function j(){return(j=Object(i.a)(Object(r.a)().mark((function e(t,n,i,c){var l,d,b;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(n,i);case 2:return l=e.sent,d=null,b=o(t,n),e.prev=5,e.next=8,u(b,l);case 8:e.next=15;break;case 10:if(e.prev=10,e.t0=e.catch(5),e.t0 instanceof Error&&"Failed to find account"===e.t0.message){e.next=14;break}throw e.t0;case 14:d=a.c.createAssociatedTokenAccountInstruction(a.a,a.b,n,l,i,null!==c&&void 0!==c?c:i);case 15:return e.abrupt("return",{associatedTokenAccountAddress:l,createAssociateTokenInstruction:d});case 16:case"end":return e.stop()}}),e,null,[[5,10]])})))).apply(this,arguments)}var f=n(6),x=new f.PublicKey("MNDEFzGvMt87ueuHvVU9VcTqsAP5b3fTGPsHuuPA5ey"),h=new f.PublicKey("GR1LBT4cU89cJWE74CP6BsJTf2kriQ9TX59tbDsfxgSi");function p(e,t,n,r,i){return g.apply(this,arguments)}function g(){return(g=Object(i.a)(Object(r.a)().mark((function e(t,n,i,c,s){var l,d,j,p,g,m,O,y,v,w,S,C,k,T,K,A;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=new f.PublicKey(c),d=o(n.provider,x),j=t.includes("devnet")?new f.PublicKey("MnDaY5b8hVYTE24ujFC2qHLDPcLzEetNyhFVbr9mFb1"):h,e.prev=3,e.next=6,u(d,h);case 6:p=e.sent,e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(3),Error(e.t0.message+" "+h.toBase58());case 12:if(p.mint.equals(x)){e.next=15;break}throw Error("From account mint should be MNDE");case 15:if(p.owner.equals(i)){e.next=17;break}throw Error("From Token-account.owner ".concat(p.address.toBase58()," is ").concat(p.owner.toBase58()," but multisig auth is ").concat(i.toBase58()));case 17:return e.next=19,n.provider.connection.getAccountInfo(l);case 19:if(g=e.sent){e.next=22;break}throw Error("cannot read account ".concat(l.toBase58()));case 22:if(!g.owner.equals(a.b)){e.next=31;break}return e.next=25,u(d,l);case 25:if((O=e.sent).mint===x){e.next=28;break}throw Error("destination account should be a MNDE token account, but mint is ".concat(O.mint.toBase58()));case 28:m=l,e.next=48;break;case 31:return e.next=33,b(n.provider,x,l,n.provider.wallet.publicKey);case 33:if(y=e.sent,v=y.associatedTokenAccountAddress,!(w=y.createAssociateTokenInstruction)){e.next=47;break}return(S=new f.Transaction).add(w),e.prev=39,e.next=42,n.provider.send(S);case 42:e.next=47;break;case 44:throw e.prev=44,e.t1=e.catch(39),Error("".concat(e.t1.message," creating MNDE ATA for destination account"));case 47:m=v;case 48:return C=o(n.provider,x),e.next=51,C.getMintInfo();case 51:return k=e.sent,T=Math.pow(10,k.decimals),K=BigInt((s*T).toFixed(0)),A=a.c.createTransferInstruction(a.b,j,m,i,[],Number(K.toString())),e.abrupt("return",A);case 56:case"end":return e.stop()}}),e,null,[[3,9],[39,44]])})))).apply(this,arguments)}},244:function(e,t,n){},259:function(e,t){},285:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),c=n(23),a=n.n(c),o=(n(244),n(67)),s=n(27),l=n(160),u=n(348),d=n(349),b=n(347),j=n(6),f=n(115),x=n(353),h=n(354),p=n(355),g=n(2);function m(e){var t=Object(r.useMemo)((function(){return[Object(h.a)(),Object(p.a)()]}),[]);return Object(g.jsx)(x.a,{wallets:t,children:e.children})}var O=n(11),y=n(53),v=n(61),w=n(1),S=n(5),C=n(286),k=n(288),T=n(351),K=n(213),A=n(341),P=n(344),E=n(105),W=n(202),B=n.n(W),I=n(201),D=n.n(I),M=n(200),R=n.n(M),L=n(68),q=n(142);function N(){var e=Object(q.b)().publicKey,t=Object(s.e)(),n=Object(r.useState)(""),i=Object(O.a)(n,2),c=i[0],a=i[1],o=!function(e){try{return new j.PublicKey(e),!0}catch(t){return!1}}(c),l=function(){t.push("/".concat(c))};return Object(g.jsx)(C.a,{position:"static",style:{background:"#ffffff",color:"#272727",boxShadow:"none",borderBottom:"solid 1pt #ccc"},children:Object(g.jsx)(k.a,{children:Object(g.jsxs)("div",{style:{display:"flex",width:"100%"},children:[Object(g.jsxs)("div",{style:{display:"flex",flex:1},children:[Object(g.jsx)(U,{}),Object(g.jsx)(F,{label:"Multisig UI",hrefClient:"/"}),Object(g.jsx)(F,{label:"Treasury",hrefClient:"/9aN4drMhmd8AX3eRdYvH1gbZiPmwgGJfjvneCECF97HD"}),Object(g.jsx)(F,{label:"Admin",hrefClient:"/7mSA2bgzmUCi4wh16NQEfT76XMqJULni6sheZRCjcyx7"}),Object(g.jsxs)("div",{style:{marginLeft:"16px",marginRight:"16px",borderRadius:"25px",display:"flex",flex:1,backgroundColor:"rgb(245 245 245)"},children:[Object(g.jsx)("input",{style:{flex:1,background:"none",padding:"16px",border:"none",outlineWidth:0,color:"inherit"},placeholder:"Search a multisig address...",value:c,onChange:function(e){return a(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&l()}}),Object(g.jsx)(E.a,{disabled:o,onClick:l,children:Object(g.jsx)(R.a,{})})]})]}),Object(g.jsxs)("div",{style:{display:"flex"},children:[Object(g.jsx)(Y,{}),e?Object(g.jsx)(H,{}):Object(g.jsx)(J,{style:{display:e?"none":""}})]})]})})})}function U(){var e=Object(s.e)();return Object(g.jsx)("div",{style:{display:"flex"},onClick:function(){return e.push("/")},children:Object(g.jsx)(v.a,{color:"inherit",children:Object(g.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center"},children:Object(g.jsx)("img",{style:{display:"block",height:"35px"},alt:"Logo",src:"marinade-logo.avif"})})})})}function F(e){var t=Object(s.e)(),n=e.label,r=e.href,i=e.hrefClient;return Object(g.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center"},onClick:function(){return i&&t.push(i)},children:Object(g.jsx)(A.a,{style:{color:"inherit",textDecoration:"none"},href:r,target:"_blank",children:Object(g.jsx)(v.a,{color:"inherit",children:Object(g.jsx)("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column"},children:Object(g.jsx)(y.a,{style:{fontSize:"15px"},children:n})})})})})}function Y(){var e=Object(o.c)((function(e){return e.common.network})),t=Object(o.b)(),n=Object(r.useState)(null),i=Object(O.a)(n,2),c=i[0],a=i[1],s=function(){a(null)};return Object(g.jsxs)("div",{style:{marginRight:"10px",fontSize:"15px",display:"flex",justifyContent:"center",flexDirection:"column"},children:[Object(g.jsxs)(v.a,{color:"inherit",onClick:function(e){return a(e.currentTarget)},children:[Object(g.jsx)(D.a,{}),Object(g.jsx)(y.a,{style:{marginLeft:"5px",fontSize:"15px"},children:e.label})]}),Object(g.jsx)(K.a,{anchorEl:c,open:Boolean(c),onClose:s,style:{marginLeft:"12px",color:"white"},children:Object.keys(L.c).map((function(e){return Object(g.jsx)(P.a,{onClick:function(){s(),t({type:L.a.CommonSetNetwork,item:{network:L.c[e],networkKey:e}})},children:Object(g.jsx)(y.a,{children:L.c[e].label})},e)}))})]})}function H(){var e=Object(q.b)(),t=e.publicKey,n=e.disconnect;return Object(g.jsx)(T.a,{displayEmpty:!0,renderValue:function(){return Object(g.jsx)(y.a,{style:{overflow:"hidden"},children:null===t||void 0===t?void 0:t.toString()})},style:{marginLeft:"12px",width:"150px"},onChange:function(e){"disconnect"===e.target.value&&n()},children:Object(g.jsx)(P.a,{value:"disconnect",children:Object(g.jsxs)(E.a,{color:"inherit",children:[Object(g.jsx)(B.a,{}),Object(g.jsx)(y.a,{style:{marginLeft:"15px"},children:"Disconnect"})]})})})}function J(e){var t=Object(r.useState)(null),n=Object(O.a)(t,2),i=n[0],c=n[1],a=Boolean(i),s=Object(o.b)(),l=Object(q.b)(),u=l.wallets,d=l.connect,b=l.disconnect,j=l.select,f=function(){var e=Object(S.a)(Object(w.a)().mark((function e(t){return Object(w.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j(t.name),e.next=4,d();case 4:s({type:L.a.CommonWalletDidConnect,item:{}}),e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.next=12,b();case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(v.a,{id:"demo-positioned-button","aria-controls":a?"demo-positioned-menu":void 0,"aria-haspopup":"true","aria-expanded":a?"true":void 0,onClick:function(e){c(e.currentTarget)},children:"Select wallet"}),Object(g.jsx)(K.a,{id:"demo-positioned-menu","aria-labelledby":"demo-positioned-button",anchorEl:i,open:a,onClose:function(){c(null)},anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:u.map((function(e,t){return Object(g.jsx)(P.a,{onClick:function(){return f(e)},children:e.name},e.name)}))})]})}function V(){return Object(g.jsx)("div",{style:{zIndex:99,position:"fixed",width:"100%",bottom:0,textAlign:"center",height:"30px",backgroundColor:"#fbfbfb",borderTop:"solid 1pt #ccc",display:"flex",justifyContent:"space-between",paddingLeft:"10px",paddingRight:"10px"},children:Object(g.jsxs)("div",{style:{marginLeft:"auto",marginRight:"auto",display:"flex"},children:[Object(g.jsx)(z,{href:"https://github.com/project-serum/multisig",label:"Source"}),Object(g.jsx)(z,{href:"https://github.com/project-serum/awesome-serum",label:"Developer Resources"}),Object(g.jsx)(z,{href:"https://discord.com/channels/739225212658122886",label:"Discord"}),Object(g.jsx)(z,{href:"https://t.me/ProjectSerum",label:"Telegram"}),Object(g.jsx)(z,{href:"https://github.com/project-serum",label:"GitHub"}),Object(g.jsx)(z,{href:"https://solanabeach.io/",label:"Solana Network",isEnd:!0})]})})}function z(e){var t=e.label,n=e.href,r=e.isEnd;return Object(g.jsx)("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column",marginRight:r?"":"15px"},children:Object(g.jsx)(A.a,{href:n,target:"_blank",color:"inherit",children:Object(g.jsx)(y.a,{style:{fontSize:"14px"},children:t})})})}function _(e){var t=Object(r.useState)(!1),n=Object(O.a)(t,2),i=n[0],c=n[1];return Object(g.jsxs)("div",{style:{display:"flex",minHeight:"100vh",flexDirection:"column",backgroundColor:"rgb(251, 251, 251)"},children:[Object(g.jsxs)("div",{style:{position:"fixed",width:"100%",zIndex:99},children:[Object(g.jsx)(G,{}),Object(g.jsx)(N,{})]}),Object(g.jsx)("div",{style:{width:"100%",marginTop:"94px",flex:1,display:"flex",marginBottom:"30px"},children:window.localStorage.getItem("consent")?Object(g.jsx)("div",{style:{width:"100%"},children:e.children}):Object(g.jsx)(Z,{onConsent:function(){window.localStorage.setItem("consent","true"),c(!i)}})}),Object(g.jsx)(V,{})]})}function G(){return Object(g.jsx)("div",{style:{color:"#fff",backgroundColor:"rgb(39, 39, 39)",height:"30px",textAlign:"center"},children:Object(g.jsx)("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column",height:"100%"},children:Object(g.jsx)(y.a,{style:{fontSize:"14px"},children:"Multisig is unaudited software. Use at your own risk."})})})}function Z(e){var t=e.onConsent;return Object(g.jsxs)("div",{style:{flex:"1",display:"flex",justifyContent:"center",flexDirection:"column",textAlign:"center"},children:[Object(g.jsx)("div",{style:{width:"100%",display:"flex"},children:Object(g.jsx)("div",{style:{display:"flex",marginLeft:"auto",marginRight:"auto"},children:Object(g.jsx)(y.a,{style:{marginBottom:"16px",maxWidth:"1000px"},color:"textSecondary",variant:"h4",children:"No statement or warranty is provided in relation to the utility of this program, the safety of its code or its suitability for your use, and by using it, you agree to bear any risk associated with such potential vulnerabilities, including, but not limited to the potential loss of tokens."})})}),Object(g.jsx)("div",{style:{display:"flex",marginLeft:"auto",marginRight:"auto"},children:Object(g.jsx)(v.a,{variant:"contained",color:"primary",onClick:t,children:"I agree"})})]})}var Q=n(164),X=n(56),$=n(70);function ee(){var e=f.a.getState();window.location.hash&&(window.location.href="#/".concat(e.common.network.defaultMultisig.toString()));var t=e.common.network.defaultMultisig;return Object(g.jsx)(Q.a,{multisig:t})}function te(){var e=Object(s.e)(),t=Object(s.f)().pathname.split("/");if(2!==t.length)return e.push("/multisig"),Object(g.jsx)(g.Fragment,{});var n=new j.PublicKey(t[1]);return Object(g.jsx)(Q.a,{multisig:n})}var ne=function(){var e=Object(b.a)({palette:{background:{default:"rgb(255,255,255)"}},typography:{fontFamily:["Source Sans Pro","sans-serif"].join(",")},overrides:{}});return Object(g.jsx)(o.a,{store:f.a,children:Object(g.jsxs)(u.a,{theme:e,children:[Object(g.jsx)(d.a,{}),Object(g.jsx)($.a,{maxSnack:5,autoHideDuration:8e3,children:Object(g.jsx)(m,{children:Object(g.jsx)(X.a,{children:Object(g.jsx)(l.a,{basename:"/",children:Object(g.jsxs)(_,{children:[Object(g.jsx)(s.a,{exact:!0,path:"/",component:ee}),Object(g.jsx)(s.a,{exact:!0,path:"/:address",component:te})]})})})})})]})})},re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,358)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),c(e),a(e)}))};a.a.render(Object(g.jsx)(i.a.StrictMode,{children:Object(g.jsx)(ne,{})}),document.getElementById("root")),re()},56:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return j}));var r=n(0),i=n.n(r),c=n(67),a=n(6),o=n(46),s={version:"0.0.0",name:"multisig",instructions:[{name:"createMultisig",accounts:[{name:"multisig",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"owners",type:{vec:"publicKey"}},{name:"threshold",type:"u64"},{name:"nonce",type:"u8"}]},{name:"createTransaction",accounts:[{name:"multisig",isMut:!1,isSigner:!1},{name:"transaction",isMut:!0,isSigner:!1},{name:"proposer",isMut:!1,isSigner:!0},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"pid",type:"publicKey"},{name:"accs",type:{vec:{defined:"TransactionAccount"}}},{name:"data",type:"bytes"}]},{name:"approve",accounts:[{name:"multisig",isMut:!1,isSigner:!1},{name:"transaction",isMut:!0,isSigner:!1},{name:"owner",isMut:!1,isSigner:!0}],args:[]},{name:"setOwners",accounts:[{name:"multisig",isMut:!0,isSigner:!1},{name:"multisigSigner",isMut:!1,isSigner:!0}],args:[{name:"owners",type:{vec:"publicKey"}}]},{name:"changeThreshold",accounts:[{name:"multisig",isMut:!0,isSigner:!1},{name:"multisigSigner",isMut:!1,isSigner:!0}],args:[{name:"threshold",type:"u64"}]},{name:"executeTransaction",accounts:[{name:"multisig",isMut:!1,isSigner:!1},{name:"multisigSigner",isMut:!1,isSigner:!1},{name:"transaction",isMut:!0,isSigner:!1}],args:[]}],accounts:[{name:"Multisig",type:{kind:"struct",fields:[{name:"owners",type:{vec:"publicKey"}},{name:"threshold",type:"u64"},{name:"nonce",type:"u8"},{name:"ownerSetSeqno",type:"u32"}]}},{name:"Transaction",type:{kind:"struct",fields:[{name:"multisig",type:"publicKey"},{name:"programId",type:"publicKey"},{name:"accounts",type:{vec:{defined:"TransactionAccount"}}},{name:"data",type:"bytes"},{name:"signers",type:{vec:"bool"}},{name:"didExecute",type:"bool"},{name:"ownerSetSeqno",type:"u32"}]}}],types:[{name:"TransactionAccount",type:{kind:"struct",fields:[{name:"pubkey",type:"publicKey"},{name:"isSigner",type:"bool"},{name:"isWritable",type:"bool"}]}}],errors:[{code:100,name:"InvalidOwner",msg:"The given owner is not part of this multisig."},{code:101,name:"NotEnoughSigners",msg:"Not enough owners signed this transaction."},{code:102,name:"TransactionAlreadySigned",msg:"Cannot delete a transaction that has been signed by an owner."},{code:103,name:"Overflow",msg:"Overflow when adding."},{code:104,name:"UnableToDelete",msg:"Cannot delete a transaction the owner did not create."},{code:105,name:"AlreadyExecuted",msg:"The given transaction has already been executed."},{code:106,name:"InvalidThreshold",msg:"Threshold must be less than or equal to the number of owners."}]},l=n(142),u=n(2),d=i.a.createContext({multisigClient:null});function b(e){var t=Object(c.c)((function(e){return{network:e.common.network}})).network,n=Object(l.b)(),i=Object(r.useMemo)((function(){var e={preflightCommitment:"recent",commitment:"recent"},r=new a.Connection(t.url,e.preflightCommitment),i=new o.c(r,n,e);return{multisigClient:new o.b(s,t.multisigProgramId,i)}}),[n,t]).multisigClient;return Object(u.jsx)(d.Provider,{value:{multisigClient:i},children:e.children})}function j(){return Object(r.useContext)(d)}},68:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o}));var r,i=n(13),c=n(6);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0,n={common:Object(i.a)({},e.common)};switch(t.type){case r.CommonWalletSetProvider:return n.common.walletProvider=t.item.walletProvider,n;case r.CommonWalletDidConnect:return n.common.isWalletConnected=!0,n;case r.CommonWalletDidDisconnect:return n.common.isWalletConnected=!1,n;case r.CommonSetNetwork:return n.common.network.label!==t.item.network.label&&(n.common.network=t.item.network),n;default:return n}}!function(e){e[e.CommonTriggerShutdown=0]="CommonTriggerShutdown",e[e.CommonDidShutdown=1]="CommonDidShutdown",e[e.CommonWalletDidConnect=2]="CommonWalletDidConnect",e[e.CommonWalletDidDisconnect=3]="CommonWalletDidDisconnect",e[e.CommonWalletSetProvider=4]="CommonWalletSetProvider",e[e.CommonSetNetwork=5]="CommonSetNetwork"}(r||(r={}));var o={mainnet:{label:"marinade.rpcpool.com",url:"https://marinade.rpcpool.com",explorerClusterSuffix:"",multisigProgramId:new c.PublicKey("H88LfRBiJLZ7wYkHGuwkKTaijfQxexq8JvzUndu7fyjL"),multisigUpgradeAuthority:new c.PublicKey("EYpNb3zURb2C9TuVexxV5kf5mwsDc5ziSJJKyKF2wJTW"),defaultMultisig:new c.PublicKey("9aN4drMhmd8AX3eRdYvH1gbZiPmwgGJfjvneCECF97HD")},mainnet1:{label:"Mainnet Beta",url:"https://marinade.rpcpool.com",explorerClusterSuffix:"",multisigProgramId:new c.PublicKey("H88LfRBiJLZ7wYkHGuwkKTaijfQxexq8JvzUndu7fyjL"),multisigUpgradeAuthority:new c.PublicKey("EYpNb3zURb2C9TuVexxV5kf5mwsDc5ziSJJKyKF2wJTW"),defaultMultisig:new c.PublicKey("9aN4drMhmd8AX3eRdYvH1gbZiPmwgGJfjvneCECF97HD")},testnet:{label:"Testnet",url:"https://api.testnet.solana.com",explorerClusterSuffix:"devnet",multisigProgramId:new c.PublicKey("H88LfRBiJLZ7wYkHGuwkKTaijfQxexq8JvzUndu7fyjL"),multisigUpgradeAuthority:new c.PublicKey("EYpNb3zURb2C9TuVexxV5kf5mwsDc5ziSJJKyKF2wJTW"),defaultMultisig:new c.PublicKey("7mSA2bgzmUCi4wh16NQEfT76XMqJULni6sheZRCjcyx7")},devnet:{label:"Devnet",url:"https://api.devnet.solana.com",explorerClusterSuffix:"devnet",multisigProgramId:new c.PublicKey("H88LfRBiJLZ7wYkHGuwkKTaijfQxexq8JvzUndu7fyjL")},localhost:{label:"Localhost",url:"http://localhost:8899",explorerClusterSuffix:"localhost",multisigProgramId:new c.PublicKey("H88LfRBiJLZ7wYkHGuwkKTaijfQxexq8JvzUndu7fyjL")}},s={common:{isWalletConnected:!1,walletProvider:"https://www.sollet.io",network:o.mainnet}}},94:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(1),n(5);var r=n(67),i=n(61),c=n(2);function a(e){var t=e.signature,n=Object(r.c)((function(e){return{explorerClusterSuffix:e.common.network.explorerClusterSuffix}})).explorerClusterSuffix,a="?cluster=".concat(n);return Object(c.jsx)(i.a,{color:"inherit",component:"a",target:"_blank",rel:"noopener",href:"https://explorer.solana.com/tx/".concat(t)+a,children:"View on Solana Explorer"})}}},[[285,1,2]]]);
//# sourceMappingURL=main.3861d366.chunk.js.map